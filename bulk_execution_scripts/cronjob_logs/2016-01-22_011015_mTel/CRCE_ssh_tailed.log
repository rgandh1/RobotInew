[2016-01-22 00:18:14,504][FINEST][14343][         SubscriberPeerImpl.getSubscriberProfile()] Reading subscriber profile by MSISDN [msisdn=43667725900]
[2016-01-22 00:18:14,508][FINEST][14343][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=191,978]
[2016-01-22 00:18:14,508][FINEST][14343][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=191,978, msisdn=43667725900]
[2016-01-22 00:18:14,508][FINEST][14343][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=191,978]
[2016-01-22 00:18:14,512][FINEST][14343][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByMsisdn execTime=8.215]
[2016-01-22 00:18:14,513][FINEST][14343][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-22 00:18:14,513][FINEST][14343][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByMsisdn execTime=com.tryge.negret.profiler.model.SubscriberImpl@78f557bc]
[2016-01-22 00:18:14,513][FINEST][14343][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=191,978 msisdn=43667725900 imsi=232201667725900]
[2016-01-22 00:18:15,636][FINEST][828187][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><reservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-22T00:18:15.633+0000</startTime><accumulatedDuration>0</accumulatedDuration><accumulatedData>0</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>811033302</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup></reservationReq></messages></iCCA>
[2016-01-22 00:18:15,639][  INFO][828187][                     TraceInterceptorImpl.invoke()] reserve(DataReservationRequest [accumulatedData=0, accumulatedDuration=0, apn=wapaccess.mtel.at, bearerType=GPRS, calledParty=null, callingParty=43667725900, header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], imsi=232201667725900, location=43667, referenceNumber=811033302, roaming=false, startTime=Fri Jan 22 00:18:15 UTC 2016, subscriberId=null, ratingGroup=100])
[2016-01-22 00:18:15,643][FINEST][828187][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=191,978]
[2016-01-22 00:18:15,643][FINEST][828187][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=191,978, msisdn=43667725900]
[2016-01-22 00:18:15,644][FINEST][828187][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=191,978]
[2016-01-22 00:18:15,649][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByImsi execTime=9.126]
[2016-01-22 00:18:15,649][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-22 00:18:15,650][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByImsi execTime=com.tryge.negret.profiler.model.SubscriberImpl@2f72764c]
[2016-01-22 00:18:15,654][FINEST][267][      DataContextExpiryListener.onContextCreated()] Data context created [key=8683424752657856862]
[2016-01-22 00:18:15,654][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=create execTime=3.743]
[2016-01-22 00:18:15,655][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2016-01-22 00:18:15,655][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=create execTime=null]
[2016-01-22 00:18:15,658][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=1.601]
[2016-01-22 00:18:15,658][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-22 00:18:15,659][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@5057a402]
[2016-01-22 00:18:15,660][FINEST][828187][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=191,978, trafficType=DATA, zoneType=HPLMN]
[2016-01-22 00:18:15,660][ FINER][828187][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-22 00:18:15,660][FINEST][828187][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=191,978, reservation=InternalReservationImpl{id='R191978T1453422795660@884339439964228~1490742848997768074', subscriberId=191978, expires=1453422795660, reservedAt=1453421895660, reservation=[]}]
[2016-01-22 00:18:15,661][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=0, setup=false, ratingGroup=100]
[2016-01-22 00:18:15,661][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-22 00:18:15,661][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-22 00:18:15,662][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-22 00:18:15,662][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:15,662][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=0]
[2016-01-22 00:18:15,662][FINEST][828187][                                  DataRater.rate()] Charging setup fee [setupPeriod=0B, setupPrice=0]
[2016-01-22 00:18:15,663][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:15,663][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=0]
[2016-01-22 00:18:15,663][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:15,663][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:15,663][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=191,978, actionId=592361399]
[2016-01-22 00:18:15,664][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:15,667][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:15,667][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.293]
[2016-01-22 00:18:15,667][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:15,668][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:10.3, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:15,668][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.397]
[2016-01-22 00:18:15,668][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-22 00:18:15,669][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:10.3, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:15,669][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=900,000, setup=true, ratingGroup=100]
[2016-01-22 00:18:15,669][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:15,670][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=900000]
[2016-01-22 00:18:15,670][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=900000]
[2016-01-22 00:18:15,670][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:15,670][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=592361399]
[2016-01-22 00:18:15,671][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-22 00:18:15,671][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:15,671][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=0]
[2016-01-22 00:18:15,671][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=0]
[2016-01-22 00:18:15,672][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:15,672][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:15,672][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=592361399]
[2016-01-22 00:18:15,672][ FINER][828187][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=191,979, subscriberId=191,978]
[2016-01-22 00:18:15,673][FINEST][828187][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=191,978]
[2016-01-22 00:18:15,673][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:15,675][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:15,675][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.469]
[2016-01-22 00:18:15,676][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:15,676][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[]]
[2016-01-22 00:18:15,676][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.55]
[2016-01-22 00:18:15,677][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-22 00:18:15,677][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@90cbb84]
[2016-01-22 00:18:15,677][ FINER][828187][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=191,979, subscriberId=191,978, expiryDate=3/22/16 12:18 AM]
[2016-01-22 00:18:15,678][FINEST][828187][                         DataRater.updateAccount()] Store account data [subscriber=191,978 balance=100,000 currency=Euro unlimited=false expiry=1/21/17 12:18 AM]
[2016-01-22 00:18:15,678][FINEST][828187][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=191,978, accountId=191,979]
[2016-01-22 00:18:15,679][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=592361399]
[2016-01-22 00:18:15,679][FINEST][828187][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=100,000, accountId=191,979, available=100,000]
[2016-01-22 00:18:15,679][  FINE][828187][                         DataRater.chargeSegment()] Charged 22 segment(s) [chargedVolume=1,126,400, chargedAmount=100,000]
[2016-01-22 00:18:15,679][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:15,679][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=900000]
[2016-01-22 00:18:15,680][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=900000]
[2016-01-22 00:18:15,680][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:15,680][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=592361399]
[2016-01-22 00:18:15,681][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:15,681][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:15,681][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.729]
[2016-01-22 00:18:15,682][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:15,682][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:15,682][ FINER][828187][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R191978T1453422795660@884339439964228~1490742848997768074, subscriberId=191,978, reservation=[100000@191979[61]]
[2016-01-22 00:18:15,683][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:15,687][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:15,687][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=4.702]
[2016-01-22 00:18:15,688][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:15,688][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:15,688][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=5.699]
[2016-01-22 00:18:15,688][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2016-01-22 00:18:15,689][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=null]
[2016-01-22 00:18:15,689][FINEST][828187][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=191978, actionId=592361399]
[2016-01-22 00:18:15,689][FINEST][828187][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453421895633, transferredData=0, grantedUnits=1126400, grantedTime=900000
[2016-01-22 00:18:15,689][FINEST][828187][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=191,978]
[2016-01-22 00:18:15,690][FINEST][828187][           BundleServiceImpl.getActivatedBundles()] Getting activated bundles for subscriber [id=191,978]
[2016-01-22 00:18:15,690][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:15,692][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:15,692][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.469]
[2016-01-22 00:18:15,693][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:15,693][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[]]
[2016-01-22 00:18:15,693][FINEST][828187][           BundleServiceImpl.getActivatedBundles()] Found [bundle statuses=[]] 
[2016-01-22 00:18:15,693][FINEST][828187][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=902]
[2016-01-22 00:18:15,694][FINEST][828187][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=191,978]
[2016-01-22 00:18:15,694][FINEST][828187][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-22 00:18:15,694][FINEST][828187][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=191,978]
[2016-01-22 00:18:15,694][FINEST][828187][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-22 00:18:15,694][FINEST][828187][                       BundleActiveRule.evaluate()] Evaluating for [subscriberId=191,978]
[2016-01-22 00:18:15,694][FINEST][828187][                       BundleActiveRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-22 00:18:15,695][  INFO][828187][PccNotificationSender.sendPolicyChangedNotification()] Policy for subscriber has changed, sending the notification: [subscriberId=191978, notification=PolicyActivatedNotification [pccRuleId=Rule_1, ratingGroup=100, remainingBytes=null, validTo=null]]
[2016-01-22 00:18:15,695][FINEST][286][              InternalPolicyUpdateListener$1.run()] Updating PCRF listener [subscriberId=191978, msisdn=43667725900, policy=PolicyInfoRg [ratingGroup=100, pccRuleId=Rule_1, validTo=null, remainingBytes=null]]
[2016-01-22 00:18:15,695][FINEST][585][                    NotificationSenderImpl$2.run()] Sending notification to subscriber [subscriberId=191,978, msisdn=43667725900, notification=PolicyActivatedNotification [pccRuleId=Rule_1, ratingGroup=100, remainingBytes=null, validTo=null]]
[2016-01-22 00:18:15,696][WARNING][585][                    NotificationSenderImpl$2.run()] Failed to send subscriber notification [subscriberId=191978, msisdn=43667725900]
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	at com.inewcs.crce.plugins.notifications.service.impl.NotificationSenderImpl$2.run(NotificationSenderImpl.java:184)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor648.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.inewcs.crce.integration.impl.IntegrationImpl$ClassLoaderSwitchingInvocationHandler.invoke(IntegrationImpl.java:62)
	... 7 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at com.inewcs.remoting.balancers.FairPlayBalancer.selectLocator(Unknown Source)
	at com.inewcs.remoting.ClusteredTransporterClient.invoke(Unknown Source)
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	... 11 more
[2016-01-22 00:18:15,698][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=2.252]
[2016-01-22 00:18:15,698][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-22 00:18:15,700][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-22 00:18:15,703][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=reserve execTime=63.17]
[2016-01-22 00:18:15,703][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Reserve]
[2016-01-22 00:18:15,704][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ReserveInitial]
[2016-01-22 00:18:15,704][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=reserve execTime=DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=1126400, lastSegment=true, reservationId=R191978T1453422795660@884339439964228~1490742848997768074, reservedAccounts=[Account: id=191979, amount=100000, unitId=61], responseCode=OK]]
[2016-01-22 00:18:15,704][  INFO][828187][                     TraceInterceptorImpl.invoke()] reserve(...): DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=1126400, lastSegment=true, reservationId=R191978T1453422795660@884339439964228~1490742848997768074, reservedAccounts=[Account: id=191979, amount=100000, unitId=61], responseCode=OK] [64ms]
[2016-01-22 00:18:15,705][FINEST][828187][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=8683424752657856862, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><reservationRes><errorCode>OK</errorCode><reservationId>R191978T1453422795660@884339439964228~1490742848997768074</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>1126400</grantedUnits><reservedAccounts><account><id>191979</id><amount>100000</amount></account></reservedAccounts></reservationRes></messages></iCCA>
[2016-01-22 00:18:15,706][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.011]
[2016-01-22 00:18:15,706][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=2]
[2016-01-22 00:18:15,706][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-22 00:18:15,707][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.007]
[2016-01-22 00:18:15,707][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0]
[2016-01-22 00:18:15,707][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-22 00:18:15,707][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.007]
[2016-01-22 00:18:15,707][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=71]
[2016-01-22 00:18:15,708][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-22 00:18:15,708][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=68.646]
[2016-01-22 00:18:15,708][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:15,708][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-22 00:18:15,708][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=69.294]
[2016-01-22 00:18:15,709][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:15,709][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-22 00:18:21,766][FINEST][828187][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><continueReservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-22T00:18:15.633+0000</startTime><accumulatedDuration>6128</accumulatedDuration><accumulatedData>1024000</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>811033302</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup><reservationId>R191978T1453422795660@884339439964228~1490742848997768074</reservationId></continueReservationReq></messages></iCCA>
[2016-01-22 00:18:21,770][  INFO][828187][                     TraceInterceptorImpl.invoke()] continueReservation(DataContinueRequest [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], reservationId=R191978T1453422795660@884339439964228~1490742848997768074, accumulatedData=1024000, accumulatedDuration=6128, bearerType=GPRS, imsi=232201667725900, subscriberId=null, callingParty=43667725900, calledParty=null, suppressNumber=false, startTime=Fri Jan 22 00:18:15 UTC 2016, location=43667, roaming=false, referenceNumber=811033302, apn=wapaccess.mtel.at, ratingGroup=100, strategy=PESSIMISTIC, usedUnits=1024000, usedTime=0, trafficType=data])
[2016-01-22 00:18:21,773][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=2.436]
[2016-01-22 00:18:21,774][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-22 00:18:21,774][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@6c331c28]
[2016-01-22 00:18:21,778][FINEST][828187][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=191,978]
[2016-01-22 00:18:21,779][FINEST][828187][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=191,978, msisdn=43667725900]
[2016-01-22 00:18:21,779][FINEST][828187][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=191,978]
[2016-01-22 00:18:21,784][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=8.385]
[2016-01-22 00:18:21,784][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-22 00:18:21,784][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=com.tryge.negret.profiler.model.SubscriberImpl@fef4a7e]
[2016-01-22 00:18:21,785][FINEST][828187][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=191,978]
[2016-01-22 00:18:21,785][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:21,787][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:21,788][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.591]
[2016-01-22 00:18:21,788][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:21,788][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@52ad8401]]
[2016-01-22 00:18:21,789][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.687]
[2016-01-22 00:18:21,789][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-22 00:18:21,789][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@18f78f9c]
[2016-01-22 00:18:21,790][  FINE][828187][             DataCommitClosure.commitReservation()] Commiting session part [unchargedUnits=1,024,000, unchargedTime=6,128, charged=0, overage=-102,400, sessionId=8683424752657856862]
[2016-01-22 00:18:21,790][FINEST][828187][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=191,978, reservationId=R191978T1453422795660@884339439964228~1490742848997768074, tuples=[87880@191979[61]]]
[2016-01-22 00:18:21,790][FINEST][828187][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=191,978, accountId=191,979]
[2016-01-22 00:18:21,791][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=191,978, actionId=936568477]
[2016-01-22 00:18:21,791][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:21,794][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:21,794][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.85]
[2016-01-22 00:18:21,794][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:21,795][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:10.3, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:21,795][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.939]
[2016-01-22 00:18:21,795][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-22 00:18:21,795][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:10.3, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:21,796][ FINER][828187][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=191,979, subscriberId=191,978]
[2016-01-22 00:18:21,796][FINEST][828187][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=191,978]
[2016-01-22 00:18:21,796][ FINER][828187][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=191,979, subscriberId=191,978, expiryDate=3/22/16 12:18 AM]
[2016-01-22 00:18:21,797][  INFO][828187][             DataCommitClosure.commitReservation()] Charges: sessionId=8683424752657856862, [ChargedInfo [account=191979, amount=87880, unit=61, descriptor=15831640]]
[2016-01-22 00:18:21,797][FINEST][828187][    CostControlServiceImpl.updateCostLimitStatus()] Updating cost control limit status [subscriberId=191,978, trafficType=DATA, zoneType=HPLMN]
[2016-01-22 00:18:21,800][FINEST][828187][            CostControlCountersService$2.execute()] Incrementing cost control counter [subscriberId=191,978, trafficType=ALL, zoneType=ALL, chargedUnits=87,880]
[2016-01-22 00:18:21,800][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Checking cost control notifications for status change [subscriberId=191,978]
[2016-01-22 00:18:21,800][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=191,978, oldUsedUnits=0, newUsedUnits=87,880, threashold=15,000,000]
[2016-01-22 00:18:21,801][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=191,978, oldUsedUnits=0, newUsedUnits=87,880, threashold=20,000,000]
[2016-01-22 00:18:21,801][ FINER][828187][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.CountersData@61a8596f
[2016-01-22 00:18:21,805][FINEST][828187][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=191,978, trafficType=DATA, zoneType=HPLMN]
[2016-01-22 00:18:21,805][ FINER][828187][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-22 00:18:21,805][FINEST][828187][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=191,978, reservation=InternalReservationImpl{id='R191978T1453422801805@884345585239813~4878960066704910824', subscriberId=191978, expires=1453422801805, reservedAt=1453421901805, reservation=[]}]
[2016-01-22 00:18:21,806][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=6,128, setup=true, ratingGroup=100]
[2016-01-22 00:18:21,806][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-22 00:18:21,806][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-22 00:18:21,807][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-22 00:18:21,807][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:21,807][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=6128]
[2016-01-22 00:18:21,807][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=6128]
[2016-01-22 00:18:21,808][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:21,808][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:21,809][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=936568477]
[2016-01-22 00:18:21,809][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=906,128, setup=true, ratingGroup=100]
[2016-01-22 00:18:21,809][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:21,809][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=906128]
[2016-01-22 00:18:21,810][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=906128]
[2016-01-22 00:18:21,810][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:21,810][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=936568477]
[2016-01-22 00:18:21,811][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-22 00:18:21,811][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:21,811][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=6128]
[2016-01-22 00:18:21,811][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=6128]
[2016-01-22 00:18:21,811][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:21,812][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:21,812][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=936568477]
[2016-01-22 00:18:21,812][FINEST][828187][                         DataRater.updateAccount()] Store account data [subscriber=191,978 balance=12,120 currency=Euro unlimited=false expiry=1/21/17 12:18 AM]
[2016-01-22 00:18:21,813][FINEST][828187][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=191,978, accountId=191,979]
[2016-01-22 00:18:21,813][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=936568477]
[2016-01-22 00:18:21,813][FINEST][828187][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=12,120, accountId=191,979, available=12,120]
[2016-01-22 00:18:21,813][  FINE][828187][                         DataRater.chargeSegment()] Charged 2 segment(s) [chargedVolume=102,400, chargedAmount=12,120]
[2016-01-22 00:18:21,814][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:21,814][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=906128]
[2016-01-22 00:18:21,814][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=906128]
[2016-01-22 00:18:21,815][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:21,815][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=936568477]
[2016-01-22 00:18:21,816][FINEST][828187][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453421901761, transferredData=1024000, grantedUnits=102400, grantedTime=900000
[2016-01-22 00:18:21,816][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:21,816][FINEST][828187][                            AccountDaoImpl.flush()] Flushing account [id=191,979, balance=12,120]
[2016-01-22 00:18:21,818][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.745]
[2016-01-22 00:18:21,819][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2016-01-22 00:18:21,819][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=null]
[2016-01-22 00:18:21,819][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.688]
[2016-01-22 00:18:21,820][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:21,820][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:21,821][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:21,822][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.791]
[2016-01-22 00:18:21,822][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:21,823][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:21,823][ FINER][828187][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R191978T1453422795660@884339439964228~1490742848997768074]
[2016-01-22 00:18:21,823][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:21,826][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:21,826][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.75]
[2016-01-22 00:18:21,826][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:21,827][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1]
[2016-01-22 00:18:21,827][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=3.763]
[2016-01-22 00:18:21,827][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2016-01-22 00:18:21,828][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=null]
[2016-01-22 00:18:21,828][  FINE][106][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=191978, timestamp=1453421901828, transactionId=9bf5828a-f85c-428f-bc30-92b393e545ac]
[2016-01-22 00:18:21,828][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2016-01-22 00:18:21,828][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2016-01-22 00:18:21,829][  FINE][106][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 191,979
[2016-01-22 00:18:21,829][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2016-01-22 00:18:21,829][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountNotificationListener
[2016-01-22 00:18:21,829][FINEST][106][      AccountNotificationListener.accountChanged()] Rescheduling notifications as the main account expiry changed [subscriberId=191,978]
[2016-01-22 00:18:21,829][  FINE][106][                  SchedulerServiceImpl.deleteJob()] Deleting the job [name=expiryNotification.mainAccount_1_day, group=191978]
[2016-01-22 00:18:21,830][ FINER][828187][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R191978T1453422801805@884345585239813~4878960066704910824, subscriberId=191,978, reservation=[12120@191979[61]]
[2016-01-22 00:18:21,831][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:21,836][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:21,837][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=6.06]
[2016-01-22 00:18:21,837][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:21,837][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:21,838][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=7.41]
[2016-01-22 00:18:21,838][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2016-01-22 00:18:21,839][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=null]
[2016-01-22 00:18:21,842][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=2.478]
[2016-01-22 00:18:21,843][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-22 00:18:21,844][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-22 00:18:21,847][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=76.436]
[2016-01-22 00:18:21,847][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Continue]
[2016-01-22 00:18:21,847][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=102400, lastSegment=true, reservationId=R191978T1453422801805@884345585239813~4878960066704910824, reservedAccounts=[Account: id=191979, amount=12120, unitId=61], responseCode=OK], chargedAccounts=[Account: id=191979, amount=87880, unitId=61]]]
[2016-01-22 00:18:21,848][  INFO][828187][                     TraceInterceptorImpl.invoke()] continueReservation(...): DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=102400, lastSegment=true, reservationId=R191978T1453422801805@884345585239813~4878960066704910824, reservedAccounts=[Account: id=191979, amount=12120, unitId=61], responseCode=OK], chargedAccounts=[Account: id=191979, amount=87880, unitId=61]] [77ms]
[2016-01-22 00:18:21,848][FINEST][828187][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=8683424752657856862, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><continueReservationRes><errorCode>OK</errorCode><reservationId>R191978T1453422801805@884345585239813~4878960066704910824</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>102400</grantedUnits><reservedAccounts><account><id>191979</id><amount>12120</amount></account></reservedAccounts><chargedAccounts><account><id>191979</id><amount>87880</amount></account></chargedAccounts></continueReservationRes></messages></iCCA>
[2016-01-22 00:18:21,849][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.008]
[2016-01-22 00:18:21,850][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=1]
[2016-01-22 00:18:21,851][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-22 00:18:21,852][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.007]
[2016-01-22 00:18:21,852][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=1]
[2016-01-22 00:18:21,853][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-22 00:18:21,853][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.007]
[2016-01-22 00:18:21,853][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=87]
[2016-01-22 00:18:21,853][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-22 00:18:21,853][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=84.056]
[2016-01-22 00:18:21,854][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:21,854][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-22 00:18:21,854][  FINE][106][               SchedulerServiceImpl.scheduleOnce()] Scheduling a one-time job [job=JobData [group=191978, name=expiryNotification.mainAccount_1_day], at=3/21/16 12:18 AM]
[2016-01-22 00:18:21,854][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=85.005]
[2016-01-22 00:18:21,855][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:21,855][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-22 00:18:21,864][  INFO][106][      AccountNotificationListener.accountChanged()] Scheduled main account exiry notification [subscriber=191,978, expires=3/22/16 12:18 AM, notification=MainAccountExpiryNotification::[notification=ExpiryNotification::[expiryOffset=86400000, expiryUnit=ms, parentNotification=none], jobClass=AccountExpiryNotificationJob, jobName=expiryNotification.mainAccount_1_day]]
[2016-01-22 00:18:21,865][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2016-01-22 00:18:21,865][FINEST][106][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=191978]
[2016-01-22 00:18:21,865][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.data.mb.quota.100.used, currencyGroup=DATA]
[2016-01-22 00:18:21,865][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.sms.quota.100.used, currencyGroup=SMS]
[2016-01-22 00:18:21,866][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.voice.quota.100.used, currencyGroup=VOICE]
[2016-01-22 00:18:21,866][FINEST][106][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=106]
[2016-01-22 00:18:21,869][FINEST][106][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=106]
[2016-01-22 00:18:21,869][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.325]
[2016-01-22 00:18:21,870][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:21,870][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:15.66, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:21,870][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.505]
[2016-01-22 00:18:21,871][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-22 00:18:21,871][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:15.66, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:21,871][ FINER][106][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=191,979, subscriberId=191,978]
[2016-01-22 00:18:21,872][FINEST][106][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=191,978]
[2016-01-22 00:18:21,872][FINEST][106][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=106]
[2016-01-22 00:18:21,874][FINEST][106][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=106]
[2016-01-22 00:18:21,874][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.506]
[2016-01-22 00:18:21,875][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:21,875][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@51e657f9]]
[2016-01-22 00:18:21,875][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.638]
[2016-01-22 00:18:21,876][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-22 00:18:21,876][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@6eb31939]
[2016-01-22 00:18:21,876][ FINER][106][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=191,979, subscriberId=191,978, expiryDate=3/22/16 12:18 AM]
[2016-01-22 00:18:21,877][FINEST][106][                  AccountQuotaEvaluator.evaluate()] Account summary of 1 account(s) is [summary=[currentBalance=12120, initialBalance=100000, ratio=0.1212]]
[2016-01-22 00:18:21,877][FINEST][287][                    NotificationSenderImpl$2.run()] Sending notification to subscriber [subscriberId=191,978, msisdn=43667725900, notification=AccountQuotaNotification [name=crce.credit.low.balance, amount=0.01212, currency=Euro, expiry=Tue Mar 22 00:18:15 UTC 2016]]
[2016-01-22 00:18:21,878][WARNING][287][                    NotificationSenderImpl$2.run()] Failed to send subscriber notification [subscriberId=191978, msisdn=43667725900]
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	at com.inewcs.crce.plugins.notifications.service.impl.NotificationSenderImpl$2.run(NotificationSenderImpl.java:184)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor648.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.inewcs.crce.integration.impl.IntegrationImpl$ClassLoaderSwitchingInvocationHandler.invoke(IntegrationImpl.java:62)
	... 7 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at com.inewcs.remoting.balancers.FairPlayBalancer.selectLocator(Unknown Source)
	at com.inewcs.remoting.ClusteredTransporterClient.invoke(Unknown Source)
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	... 11 more
[2016-01-22 00:18:21,880][ FINER][106][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.NotificationData@4faaec40
[2016-01-22 00:18:21,883][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2016-01-22 00:18:21,883][FINEST][106][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=191978, remainingBalance=12120]
[2016-01-22 00:18:21,884][FINEST][106][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=191978]
[2016-01-22 00:18:21,884][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2016-01-22 00:18:28,886][FINEST][828187][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><continueReservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-22T00:18:15.633+0000</startTime><accumulatedDuration>13249</accumulatedDuration><accumulatedData>3072000</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>811033302</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup><reservationId>R191978T1453422801805@884345585239813~4878960066704910824</reservationId></continueReservationReq></messages></iCCA>
[2016-01-22 00:18:28,889][  INFO][828187][                     TraceInterceptorImpl.invoke()] continueReservation(DataContinueRequest [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], reservationId=R191978T1453422801805@884345585239813~4878960066704910824, accumulatedData=3072000, accumulatedDuration=13249, bearerType=GPRS, imsi=232201667725900, subscriberId=null, callingParty=43667725900, calledParty=null, suppressNumber=false, startTime=Fri Jan 22 00:18:15 UTC 2016, location=43667, roaming=false, referenceNumber=811033302, apn=wapaccess.mtel.at, ratingGroup=100, strategy=PESSIMISTIC, usedUnits=3072000, usedTime=0, trafficType=data])
[2016-01-22 00:18:28,893][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=3.025]
[2016-01-22 00:18:28,893][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-22 00:18:28,894][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@286c7023]
[2016-01-22 00:18:28,897][FINEST][828187][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=191,978]
[2016-01-22 00:18:28,897][FINEST][828187][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=191,978, msisdn=43667725900]
[2016-01-22 00:18:28,898][FINEST][828187][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=191,978]
[2016-01-22 00:18:28,902][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=7.951]
[2016-01-22 00:18:28,903][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-22 00:18:28,903][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=com.tryge.negret.profiler.model.SubscriberImpl@1848ae3a]
[2016-01-22 00:18:28,903][FINEST][828187][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=191,978]
[2016-01-22 00:18:28,904][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:28,906][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:28,906][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.565]
[2016-01-22 00:18:28,907][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:28,907][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@5b1c3527]]
[2016-01-22 00:18:28,907][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.714]
[2016-01-22 00:18:28,908][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-22 00:18:28,908][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@142ee379]
[2016-01-22 00:18:28,908][  FINE][828187][             DataCommitClosure.commitReservation()] Commiting session part [unchargedUnits=2,048,000, unchargedTime=13,249, charged=1,024,000, overage=1,945,600, sessionId=8683424752657856862]
[2016-01-22 00:18:28,909][FINEST][828187][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=191,978, reservationId=R191978T1453422801805@884345585239813~4878960066704910824, tuples=[8788@191979[61]]]
[2016-01-22 00:18:28,909][FINEST][828187][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=191,978, accountId=191,979]
[2016-01-22 00:18:28,909][WARNING][828187][                AccountStoreImpl.loadDescriptors()] Cached descriptors expired [subscriberId=191978]
[2016-01-22 00:18:28,909][FINEST][828187][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=191978, actionId=null]
[2016-01-22 00:18:28,910][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=191,978, actionId=-1587813176]
[2016-01-22 00:18:28,910][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:28,913][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:28,913][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.98]
[2016-01-22 00:18:28,913][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:28,914][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:15.66, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:28,914][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.066]
[2016-01-22 00:18:28,914][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-22 00:18:28,914][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=191979, subscriberId=191978, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-22 00:18:15.66, lastReset=2016-01-22 00:18:10.275]]]
[2016-01-22 00:18:28,915][ FINER][828187][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=191,979, subscriberId=191,978]
[2016-01-22 00:18:28,915][FINEST][828187][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=191,978]
[2016-01-22 00:18:28,915][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:28,917][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:28,918][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.293]
[2016-01-22 00:18:28,918][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:28,918][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@211021ea]]
[2016-01-22 00:18:28,919][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.393]
[2016-01-22 00:18:28,919][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-22 00:18:28,919][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@45d44bb9]
[2016-01-22 00:18:28,920][ FINER][828187][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=191,979, subscriberId=191,978, expiryDate=3/22/16 12:18 AM]
[2016-01-22 00:18:28,920][  INFO][828187][             DataCommitClosure.commitReservation()] Charges: sessionId=8683424752657856862, [ChargedInfo [account=191979, amount=8788, unit=61, descriptor=15831640]]
[2016-01-22 00:18:28,920][FINEST][828187][    CostControlServiceImpl.updateCostLimitStatus()] Updating cost control limit status [subscriberId=191,978, trafficType=DATA, zoneType=HPLMN]
[2016-01-22 00:18:28,923][FINEST][828187][            CostControlCountersService$2.execute()] Incrementing cost control counter [subscriberId=191,978, trafficType=ALL, zoneType=ALL, chargedUnits=8,788]
[2016-01-22 00:18:28,923][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Checking cost control notifications for status change [subscriberId=191,978]
[2016-01-22 00:18:28,924][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=191,978, oldUsedUnits=87,880, newUsedUnits=96,668, threashold=15,000,000]
[2016-01-22 00:18:28,924][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=191,978, oldUsedUnits=87,880, newUsedUnits=96,668, threashold=20,000,000]
[2016-01-22 00:18:28,924][ FINER][828187][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.CountersData@7681161b
[2016-01-22 00:18:28,927][ FINER][828187][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-22 00:18:28,928][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=1,945,600, duration=6,128, setup=false, ratingGroup=100]
[2016-01-22 00:18:28,928][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-22 00:18:28,929][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-22 00:18:28,929][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-22 00:18:28,929][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:28,929][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=6128]
[2016-01-22 00:18:28,929][FINEST][828187][                                  DataRater.rate()] Charging setup fee [setupPeriod=0B, setupPrice=0]
[2016-01-22 00:18:28,930][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=6128]
[2016-01-22 00:18:28,930][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=1,945,600, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=1,900]
[2016-01-22 00:18:28,930][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,931][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-22 00:18:28,931][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:28,931][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=6128]
[2016-01-22 00:18:28,931][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=6128]
[2016-01-22 00:18:28,932][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=1,945,600, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=38]
[2016-01-22 00:18:28,932][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,932][FINEST][828187][                         DataRater.updateAccount()] Store account data [subscriber=191,978 balance=3,332 currency=Euro unlimited=false expiry=1/21/17 12:18 AM]
[2016-01-22 00:18:28,933][FINEST][828187][                DataChargingStrategy.newResponse()] Charging action: charge
grantPart=DataRatingPart: begin=1453421895000, transferredData=1945600, grantedUnits=0, grantedTime=900000
[2016-01-22 00:18:28,933][  FINE][828187][             DataCommitClosure.chargeOverageData()] Charged overage data [volume=1945600, charges=[]]
[2016-01-22 00:18:28,933][FINEST][828187][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=191,978, trafficType=DATA, zoneType=HPLMN]
[2016-01-22 00:18:28,934][ FINER][828187][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-22 00:18:28,934][FINEST][828187][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=191,978, reservation=InternalReservationImpl{id='R191978T1453422808934@884352713661831~5991783511705711577', subscriberId=191978, expires=1453422808934, reservedAt=1453421908934, reservation=[]}]
[2016-01-22 00:18:28,934][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=13,249, setup=true, ratingGroup=100]
[2016-01-22 00:18:28,935][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-22 00:18:28,935][ FINER][828187][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-22 00:18:28,935][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-22 00:18:28,935][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:28,935][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=13249]
[2016-01-22 00:18:28,936][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=13249]
[2016-01-22 00:18:28,936][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:28,936][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:28,936][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,937][  FINE][828187][                                DataRater.<init>()] DataRater initialized [subscriberId=191,978, transferredUnits=5,242,880, duration=913,249, setup=true, ratingGroup=100]
[2016-01-22 00:18:28,937][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-22 00:18:28,937][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=913249]
[2016-01-22 00:18:28,937][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=913249]
[2016-01-22 00:18:28,938][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-22 00:18:28,938][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,938][ FINER][828187][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-22 00:18:28,938][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:28,939][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=13249]
[2016-01-22 00:18:28,939][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=13249]
[2016-01-22 00:18:28,939][FINEST][828187][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-22 00:18:28,939][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:28,940][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,940][FINEST][828187][                         DataRater.updateAccount()] Store account data [subscriber=191,978 balance=3,332 currency=Euro unlimited=false expiry=1/21/17 12:18 AM]
[2016-01-22 00:18:28,940][ FINER][828187][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-22 00:18:28,941][ FINER][828187][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=913249]
[2016-01-22 00:18:28,941][ FINER][828187][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=913249]
[2016-01-22 00:18:28,941][FINEST][828187][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-22 00:18:28,941][FINEST][828187][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=191978, actionId=-1587813176]
[2016-01-22 00:18:28,942][FINEST][828187][                         DataRater.updateAccount()] Store account data [subscriber=191,978 balance=3,332 currency=Euro unlimited=false expiry=1/21/17 12:18 AM]
[2016-01-22 00:18:28,942][FINEST][828187][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453421908882, transferredData=3072000, grantedUnits=0, grantedTime=900000
[2016-01-22 00:18:28,943][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:28,943][FINEST][828187][                            AccountDaoImpl.flush()] Flushing account [id=191,979, balance=3,332]
[2016-01-22 00:18:28,945][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.657]
[2016-01-22 00:18:28,945][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2016-01-22 00:18:28,945][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=null]
[2016-01-22 00:18:28,946][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.526]
[2016-01-22 00:18:28,946][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:28,946][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:28,948][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:28,948][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.297]
[2016-01-22 00:18:28,948][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-22 00:18:28,949][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-22 00:18:28,949][ FINER][828187][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R191978T1453422801805@884345585239813~4878960066704910824]
[2016-01-22 00:18:28,949][FINEST][828187][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=828,187]
[2016-01-22 00:18:28,951][FINEST][828187][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=828,187]
[2016-01-22 00:18:28,952][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.439]
[2016-01-22 00:18:28,952][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-22 00:18:28,952][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1]
[2016-01-22 00:18:28,953][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=3.452]
[2016-01-22 00:18:28,953][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2016-01-22 00:18:28,953][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=null]
[2016-01-22 00:18:28,953][  FINE][106][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=191978, timestamp=1453421908953, transactionId=d85b02cf-42d1-4dd9-a01f-6ef5600cae6f]
[2016-01-22 00:18:28,954][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2016-01-22 00:18:28,954][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2016-01-22 00:18:28,954][  FINE][106][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 191,979
[2016-01-22 00:18:28,954][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2016-01-22 00:18:28,954][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountNotificationListener
[2016-01-22 00:18:28,955][  INFO][106][      AccountNotificationListener.accountChanged()] Not a main account or no expiry change happened [subscriber=191,978, account=com.inewcs.crce.accounting.services.impl.ReadOnlyAccountProxy@2ac3f46]
[2016-01-22 00:18:28,955][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2016-01-22 00:18:28,955][FINEST][106][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=191978]
[2016-01-22 00:18:28,955][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.data.mb.quota.100.used, currencyGroup=DATA]
[2016-01-22 00:18:28,955][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.sms.quota.100.used, currencyGroup=SMS]
[2016-01-22 00:18:28,955][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.voice.quota.100.used, currencyGroup=VOICE]
[2016-01-22 00:18:28,956][FINEST][106][                  AccountQuotaEvaluator.evaluate()] Notification already sent [notification=crce.credit.low.balance]
[2016-01-22 00:18:28,956][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.Data.10MB.remaining, currencyId=101,003]
[2016-01-22 00:18:28,956][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.DataMB.10MB.remaining, currencyId=101,006]
[2016-01-22 00:18:28,956][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTminutes.quota.100.used, currencyId=101,005]
[2016-01-22 00:18:28,956][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTSMS.quota.100.used, currencyId=101,002]
[2016-01-22 00:18:28,956][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGminutes.quota.100.used, currencyId=101,001]
[2016-01-22 00:18:28,957][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGSMS.quota.100.used, currencyId=101,004]
[2016-01-22 00:18:28,957][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTminutes.10minutes.remaining, currencyId=101,005]
[2016-01-22 00:18:28,957][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGminutes.10minutes.remaining, currencyId=101,001]
[2016-01-22 00:18:28,957][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTSMS.10sms.remaining, currencyId=101,002]
[2016-01-22 00:18:28,957][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGSMS.10sms.remaining, currencyId=101,004]
[2016-01-22 00:18:28,957][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2016-01-22 00:18:28,958][FINEST][106][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=191978, remainingBalance=3332]
[2016-01-22 00:18:28,958][FINEST][106][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=191978]
[2016-01-22 00:18:28,958][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2016-01-22 00:18:28,961][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=2.503]
[2016-01-22 00:18:28,961][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-22 00:18:28,962][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-22 00:18:28,964][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=74.453]
[2016-01-22 00:18:28,964][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Continue]
[2016-01-22 00:18:28,964][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=0, lastSegment=true, reservationId=R191978T1453422808934@884352713661831~5991783511705711577, reservedAccounts=[], responseCode=INSUFFICIENT_FUNDS], chargedAccounts=[Account: id=191979, amount=8788, unitId=61]]]
[2016-01-22 00:18:28,965][  INFO][828187][                     TraceInterceptorImpl.invoke()] continueReservation(...): DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=8683424752657856862, sessionBeginTimeStamp=Fri Jan 22 00:18:15 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=0, lastSegment=true, reservationId=R191978T1453422808934@884352713661831~5991783511705711577, reservedAccounts=[], responseCode=INSUFFICIENT_FUNDS], chargedAccounts=[Account: id=191979, amount=8788, unitId=61]] [75ms]
[2016-01-22 00:18:28,965][FINEST][828187][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=8683424752657856862, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>8683424752657856862</sessionId><applSessionId>100-95633-195300000</applSessionId><sessionBeginTimeStamp>2016-01-22T00:18:15.633+0000</sessionBeginTimeStamp><messages><continueReservationRes><errorCode>InsufficientFunds</errorCode><reservationId>R191978T1453422808934@884352713661831~5991783511705711577</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>0</grantedUnits><reservedAccounts></reservedAccounts><chargedAccounts><account><id>191979</id><amount>8788</amount></account></chargedAccounts></continueReservationRes></messages></iCCA>
[2016-01-22 00:18:28,967][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.008]
[2016-01-22 00:18:28,967][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=1]
[2016-01-22 00:18:28,967][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-22 00:18:28,967][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.007]
[2016-01-22 00:18:28,968][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0]
[2016-01-22 00:18:28,968][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-22 00:18:28,969][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.008]
[2016-01-22 00:18:28,969][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=84]
[2016-01-22 00:18:28,970][FINEST][828187][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-22 00:18:28,970][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=81.146]
[2016-01-22 00:18:28,970][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:28,970][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-22 00:18:28,971][FINEST][828187][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=81.907]
[2016-01-22 00:18:28,971][FINEST][828187][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-22 00:18:28,971][FINEST][828187][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]