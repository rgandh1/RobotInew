[2016-01-27 00:17:17,591][FINEST][14347][         SubscriberPeerImpl.getSubscriberProfile()] Reading subscriber profile by MSISDN [msisdn=43667725900]
[2016-01-27 00:17:17,595][FINEST][14347][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=193,825]
[2016-01-27 00:17:17,596][FINEST][14347][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=193,825, msisdn=43667725900]
[2016-01-27 00:17:17,596][FINEST][14347][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=193,825]
[2016-01-27 00:17:17,601][FINEST][14347][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByMsisdn execTime=9.48]
[2016-01-27 00:17:17,602][FINEST][14347][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-27 00:17:17,602][FINEST][14347][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByMsisdn execTime=com.tryge.negret.profiler.model.SubscriberImpl@17cf149b]
[2016-01-27 00:17:17,602][FINEST][14347][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=193,825 msisdn=43667725900 imsi=232201667725900]
[2016-01-27 00:17:18,725][FINEST][1260574][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><reservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-27T00:17:18.722+0000</startTime><accumulatedDuration>0</accumulatedDuration><accumulatedData>0</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>917819508</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup></reservationReq></messages></iCCA>
[2016-01-27 00:17:18,728][  INFO][1260574][                     TraceInterceptorImpl.invoke()] reserve(DataReservationRequest [accumulatedData=0, accumulatedDuration=0, apn=wapaccess.mtel.at, bearerType=GPRS, calledParty=null, callingParty=43667725900, header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], imsi=232201667725900, location=43667, referenceNumber=917819508, roaming=false, startTime=Wed Jan 27 00:17:18 UTC 2016, subscriberId=null, ratingGroup=100])
[2016-01-27 00:17:18,731][FINEST][1260574][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=193,825]
[2016-01-27 00:17:18,732][FINEST][1260574][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=193,825, msisdn=43667725900]
[2016-01-27 00:17:18,732][FINEST][1260574][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=193,825]
[2016-01-27 00:17:18,737][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByImsi execTime=8.866]
[2016-01-27 00:17:18,737][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-27 00:17:18,738][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberByImsi execTime=com.tryge.negret.profiler.model.SubscriberImpl@1fb0f8e1]
[2016-01-27 00:17:18,741][FINEST][267][      DataContextExpiryListener.onContextCreated()] Data context created [key=4470178901876532200]
[2016-01-27 00:17:18,741][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=create execTime=3.084]
[2016-01-27 00:17:18,742][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2016-01-27 00:17:18,742][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=create execTime=null]
[2016-01-27 00:17:18,745][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=1.588]
[2016-01-27 00:17:18,745][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-27 00:17:18,746][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@167d7962]
[2016-01-27 00:17:18,746][FINEST][1260574][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=193,825, trafficType=DATA, zoneType=HPLMN]
[2016-01-27 00:17:18,747][ FINER][1260574][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-27 00:17:18,747][FINEST][1260574][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=193,825, reservation=InternalReservationImpl{id='R193825T1453854738747@1316282526890994~3817253075525184843', subscriberId=193825, expires=1453854738747, reservedAt=1453853838747, reservation=[]}]
[2016-01-27 00:17:18,748][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=0, setup=false, ratingGroup=100]
[2016-01-27 00:17:18,748][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-27 00:17:18,748][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-27 00:17:18,748][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-27 00:17:18,749][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:18,749][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=0]
[2016-01-27 00:17:18,749][FINEST][1260574][                                  DataRater.rate()] Charging setup fee [setupPeriod=0B, setupPrice=0]
[2016-01-27 00:17:18,749][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:18,750][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=0]
[2016-01-27 00:17:18,750][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:18,750][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:18,751][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=193,825, actionId=1164398719]
[2016-01-27 00:17:18,751][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:18,754][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:18,754][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.555]
[2016-01-27 00:17:18,755][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:18,755][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:14.067, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:18,755][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.649]
[2016-01-27 00:17:18,756][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-27 00:17:18,756][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:14.067, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:18,756][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=900,000, setup=true, ratingGroup=100]
[2016-01-27 00:17:18,756][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:18,757][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=900000]
[2016-01-27 00:17:18,757][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=900000]
[2016-01-27 00:17:18,757][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:18,757][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=1164398719]
[2016-01-27 00:17:18,757][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-27 00:17:18,758][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:18,758][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=0]
[2016-01-27 00:17:18,758][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=0]
[2016-01-27 00:17:18,758][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:18,758][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:18,759][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=1164398719]
[2016-01-27 00:17:18,759][ FINER][1260574][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=193,826, subscriberId=193,825]
[2016-01-27 00:17:18,759][FINEST][1260574][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=193,825]
[2016-01-27 00:17:18,759][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:18,761][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:18,762][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.417]
[2016-01-27 00:17:18,762][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:18,762][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[]]
[2016-01-27 00:17:18,763][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.301]
[2016-01-27 00:17:18,763][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-27 00:17:18,763][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@56cb43f7]
[2016-01-27 00:17:18,763][ FINER][1260574][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=193,826, subscriberId=193,825, expiryDate=3/27/16 12:17 AM]
[2016-01-27 00:17:18,764][FINEST][1260574][                         DataRater.updateAccount()] Store account data [subscriber=193,825 balance=100,000 currency=Euro unlimited=false expiry=1/26/17 12:17 AM]
[2016-01-27 00:17:18,764][FINEST][1260574][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=193,825, accountId=193,826]
[2016-01-27 00:17:18,765][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=1164398719]
[2016-01-27 00:17:18,765][FINEST][1260574][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=100,000, accountId=193,826, available=100,000]
[2016-01-27 00:17:18,765][  FINE][1260574][                         DataRater.chargeSegment()] Charged 22 segment(s) [chargedVolume=1,126,400, chargedAmount=100,000]
[2016-01-27 00:17:18,765][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:18,765][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=900000]
[2016-01-27 00:17:18,766][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=900000]
[2016-01-27 00:17:18,766][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:18,766][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=1164398719]
[2016-01-27 00:17:18,767][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:18,767][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:18,767][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.82]
[2016-01-27 00:17:18,768][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:18,768][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:18,768][ FINER][1260574][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R193825T1453854738747@1316282526890994~3817253075525184843, subscriberId=193,825, reservation=[100000@193826[61]]
[2016-01-27 00:17:18,769][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:18,772][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:18,773][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=4.009]
[2016-01-27 00:17:18,773][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:18,773][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:18,773][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=4.893]
[2016-01-27 00:17:18,774][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2016-01-27 00:17:18,774][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=null]
[2016-01-27 00:17:18,774][FINEST][1260574][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=193825, actionId=1164398719]
[2016-01-27 00:17:18,774][FINEST][1260574][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453853838722, transferredData=0, grantedUnits=1126400, grantedTime=900000
[2016-01-27 00:17:18,775][FINEST][1260574][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=193,825]
[2016-01-27 00:17:18,775][FINEST][1260574][           BundleServiceImpl.getActivatedBundles()] Getting activated bundles for subscriber [id=193,825]
[2016-01-27 00:17:18,775][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:18,777][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:18,778][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.586]
[2016-01-27 00:17:18,778][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:18,778][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[]]
[2016-01-27 00:17:18,778][FINEST][1260574][           BundleServiceImpl.getActivatedBundles()] Found [bundle statuses=[]] 
[2016-01-27 00:17:18,779][FINEST][1260574][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=902]
[2016-01-27 00:17:18,779][FINEST][1260574][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=193,825]
[2016-01-27 00:17:18,779][FINEST][1260574][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-27 00:17:18,779][FINEST][1260574][                        BundleQuotaRule.evaluate()] Evaluating for [subscriberId=193,825]
[2016-01-27 00:17:18,779][FINEST][1260574][                        BundleQuotaRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-27 00:17:18,780][FINEST][1260574][                       BundleActiveRule.evaluate()] Evaluating for [subscriberId=193,825]
[2016-01-27 00:17:18,780][FINEST][1260574][                       BundleActiveRule.evaluate()] Subscriber does not have the configured bundle active [bundleCode=901]
[2016-01-27 00:17:18,780][  INFO][1260574][PccNotificationSender.sendPolicyChangedNotification()] Policy for subscriber has changed, sending the notification: [subscriberId=193825, notification=PolicyActivatedNotification [pccRuleId=Rule_1, ratingGroup=100, remainingBytes=null, validTo=null]]
[2016-01-27 00:17:18,780][FINEST][286][              InternalPolicyUpdateListener$1.run()] Updating PCRF listener [subscriberId=193825, msisdn=43667725900, policy=PolicyInfoRg [ratingGroup=100, pccRuleId=Rule_1, validTo=null, remainingBytes=null]]
[2016-01-27 00:17:18,781][FINEST][585][                    NotificationSenderImpl$2.run()] Sending notification to subscriber [subscriberId=193,825, msisdn=43667725900, notification=PolicyActivatedNotification [pccRuleId=Rule_1, ratingGroup=100, remainingBytes=null, validTo=null]]
[2016-01-27 00:17:18,782][WARNING][585][                    NotificationSenderImpl$2.run()] Failed to send subscriber notification [subscriberId=193825, msisdn=43667725900]
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	at com.inewcs.crce.plugins.notifications.service.impl.NotificationSenderImpl$2.run(NotificationSenderImpl.java:184)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor648.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.inewcs.crce.integration.impl.IntegrationImpl$ClassLoaderSwitchingInvocationHandler.invoke(IntegrationImpl.java:62)
	... 7 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at com.inewcs.remoting.balancers.FairPlayBalancer.selectLocator(Unknown Source)
	at com.inewcs.remoting.ClusteredTransporterClient.invoke(Unknown Source)
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	... 11 more
[2016-01-27 00:17:18,784][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=3.794]
[2016-01-27 00:17:18,785][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-27 00:17:18,786][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-27 00:17:18,787][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=reserve execTime=59.36]
[2016-01-27 00:17:18,788][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Reserve]
[2016-01-27 00:17:18,788][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ReserveInitial]
[2016-01-27 00:17:18,789][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=reserve execTime=DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=1126400, lastSegment=true, reservationId=R193825T1453854738747@1316282526890994~3817253075525184843, reservedAccounts=[Account: id=193826, amount=100000, unitId=61], responseCode=OK]]
[2016-01-27 00:17:18,789][  INFO][1260574][                     TraceInterceptorImpl.invoke()] reserve(...): DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=1126400, lastSegment=true, reservationId=R193825T1453854738747@1316282526890994~3817253075525184843, reservedAccounts=[Account: id=193826, amount=100000, unitId=61], responseCode=OK] [60ms]
[2016-01-27 00:17:18,790][FINEST][1260574][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=4470178901876532200, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><reservationRes><errorCode>OK</errorCode><reservationId>R193825T1453854738747@1316282526890994~3817253075525184843</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>1126400</grantedUnits><reservedAccounts><account><id>193826</id><amount>100000</amount></account></reservedAccounts></reservationRes></messages></iCCA>
[2016-01-27 00:17:18,791][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.01]
[2016-01-27 00:17:18,792][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=1]
[2016-01-27 00:17:18,792][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-27 00:17:18,793][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.007]
[2016-01-27 00:17:18,793][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=1]
[2016-01-27 00:17:18,793][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-27 00:17:18,794][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.007]
[2016-01-27 00:17:18,794][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=69]
[2016-01-27 00:17:18,794][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-27 00:17:18,794][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=66.507]
[2016-01-27 00:17:18,794][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:18,795][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-27 00:17:18,795][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=67.046]
[2016-01-27 00:17:18,795][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:18,795][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-27 00:17:24,857][FINEST][1260574][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><continueReservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-27T00:17:18.722+0000</startTime><accumulatedDuration>6133</accumulatedDuration><accumulatedData>1024000</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>917819508</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup><reservationId>R193825T1453854738747@1316282526890994~3817253075525184843</reservationId></continueReservationReq></messages></iCCA>
[2016-01-27 00:17:24,861][  INFO][1260574][                     TraceInterceptorImpl.invoke()] continueReservation(DataContinueRequest [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], reservationId=R193825T1453854738747@1316282526890994~3817253075525184843, accumulatedData=1024000, accumulatedDuration=6133, bearerType=GPRS, imsi=232201667725900, subscriberId=null, callingParty=43667725900, calledParty=null, suppressNumber=false, startTime=Wed Jan 27 00:17:18 UTC 2016, location=43667, roaming=false, referenceNumber=917819508, apn=wapaccess.mtel.at, ratingGroup=100, strategy=PESSIMISTIC, usedUnits=1024000, usedTime=0, trafficType=data])
[2016-01-27 00:17:24,863][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=1.991]
[2016-01-27 00:17:24,864][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-27 00:17:24,864][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@7cc7edb3]
[2016-01-27 00:17:24,868][FINEST][1260574][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=193,825]
[2016-01-27 00:17:24,868][FINEST][1260574][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=193,825, msisdn=43667725900]
[2016-01-27 00:17:24,868][FINEST][1260574][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=193,825]
[2016-01-27 00:17:24,872][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=7.7]
[2016-01-27 00:17:24,873][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-27 00:17:24,873][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=com.tryge.negret.profiler.model.SubscriberImpl@6d8dbdbb]
[2016-01-27 00:17:24,873][FINEST][1260574][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=193,825]
[2016-01-27 00:17:24,874][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:24,876][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:24,876][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.36]
[2016-01-27 00:17:24,877][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:24,877][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@3b22e4c6]]
[2016-01-27 00:17:24,877][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.302]
[2016-01-27 00:17:24,877][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-27 00:17:24,877][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@38f99090]
[2016-01-27 00:17:24,878][  FINE][1260574][             DataCommitClosure.commitReservation()] Commiting session part [unchargedUnits=1,024,000, unchargedTime=6,133, charged=0, overage=-102,400, sessionId=4470178901876532200]
[2016-01-27 00:17:24,878][FINEST][1260574][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=193,825, reservationId=R193825T1453854738747@1316282526890994~3817253075525184843, tuples=[87880@193826[61]]]
[2016-01-27 00:17:24,878][FINEST][1260574][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=193,825, accountId=193,826]
[2016-01-27 00:17:24,879][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=193,825, actionId=-899453662]
[2016-01-27 00:17:24,879][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:24,881][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:24,882][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.806]
[2016-01-27 00:17:24,882][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:24,882][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:14.067, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:24,882][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.798]
[2016-01-27 00:17:24,883][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-27 00:17:24,883][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=100000, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:14.067, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:24,883][ FINER][1260574][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=193,826, subscriberId=193,825]
[2016-01-27 00:17:24,883][FINEST][1260574][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=193,825]
[2016-01-27 00:17:24,884][ FINER][1260574][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=193,826, subscriberId=193,825, expiryDate=3/27/16 12:17 AM]
[2016-01-27 00:17:24,884][  INFO][1260574][             DataCommitClosure.commitReservation()] Charges: sessionId=4470178901876532200, [ChargedInfo [account=193826, amount=87880, unit=61, descriptor=15831640]]
[2016-01-27 00:17:24,885][FINEST][1260574][    CostControlServiceImpl.updateCostLimitStatus()] Updating cost control limit status [subscriberId=193,825, trafficType=DATA, zoneType=HPLMN]
[2016-01-27 00:17:24,887][FINEST][1260574][            CostControlCountersService$2.execute()] Incrementing cost control counter [subscriberId=193,825, trafficType=ALL, zoneType=ALL, chargedUnits=87,880]
[2016-01-27 00:17:24,888][ FINER][1260574][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.CountersData@747771da
[2016-01-27 00:17:24,888][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Checking cost control notifications for status change [subscriberId=193,825]
[2016-01-27 00:17:24,888][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=193,825, oldUsedUnits=0, newUsedUnits=87,880, threashold=15,000,000]
[2016-01-27 00:17:24,889][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=193,825, oldUsedUnits=0, newUsedUnits=87,880, threashold=20,000,000]
[2016-01-27 00:17:24,892][FINEST][1260574][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=193,825, trafficType=DATA, zoneType=HPLMN]
[2016-01-27 00:17:24,892][ FINER][1260574][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-27 00:17:24,892][FINEST][1260574][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=193,825, reservation=InternalReservationImpl{id='R193825T1453854744892@1316288672142857~8141841921434658371', subscriberId=193825, expires=1453854744892, reservedAt=1453853844892, reservation=[]}]
[2016-01-27 00:17:24,893][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=6,133, setup=true, ratingGroup=100]
[2016-01-27 00:17:24,893][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-27 00:17:24,893][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-27 00:17:24,893][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-27 00:17:24,894][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:24,894][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=6133]
[2016-01-27 00:17:24,894][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=6133]
[2016-01-27 00:17:24,894][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:24,895][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:24,895][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-899453662]
[2016-01-27 00:17:24,895][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=906,133, setup=true, ratingGroup=100]
[2016-01-27 00:17:24,895][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:24,896][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=906133]
[2016-01-27 00:17:24,896][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=906133]
[2016-01-27 00:17:24,896][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:24,896][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-899453662]
[2016-01-27 00:17:24,897][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-27 00:17:24,897][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:24,897][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=6133]
[2016-01-27 00:17:24,897][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=6133]
[2016-01-27 00:17:24,898][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:24,898][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:24,898][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-899453662]
[2016-01-27 00:17:24,899][FINEST][1260574][                         DataRater.updateAccount()] Store account data [subscriber=193,825 balance=12,120 currency=Euro unlimited=false expiry=1/26/17 12:17 AM]
[2016-01-27 00:17:24,899][FINEST][1260574][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=193,825, accountId=193,826]
[2016-01-27 00:17:24,899][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-899453662]
[2016-01-27 00:17:24,900][FINEST][1260574][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=12,120, accountId=193,826, available=12,120]
[2016-01-27 00:17:24,900][  FINE][1260574][                         DataRater.chargeSegment()] Charged 2 segment(s) [chargedVolume=102,400, chargedAmount=12,120]
[2016-01-27 00:17:24,900][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:24,900][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=906133]
[2016-01-27 00:17:24,901][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=906133]
[2016-01-27 00:17:24,901][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:24,901][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-899453662]
[2016-01-27 00:17:24,902][FINEST][1260574][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453853844855, transferredData=1024000, grantedUnits=102400, grantedTime=900000
[2016-01-27 00:17:24,902][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:24,903][FINEST][1260574][                            AccountDaoImpl.flush()] Flushing account [id=193,826, balance=12,120]
[2016-01-27 00:17:24,905][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.865]
[2016-01-27 00:17:24,905][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2016-01-27 00:17:24,905][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=null]
[2016-01-27 00:17:24,906][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.823]
[2016-01-27 00:17:24,906][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:24,906][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:24,908][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:24,908][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=6.254]
[2016-01-27 00:17:24,909][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:24,909][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:24,910][ FINER][1260574][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R193825T1453854738747@1316282526890994~3817253075525184843]
[2016-01-27 00:17:24,910][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:24,922][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:24,923][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=12.464]
[2016-01-27 00:17:24,923][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:24,924][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1]
[2016-01-27 00:17:24,924][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=14.401]
[2016-01-27 00:17:24,925][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2016-01-27 00:17:24,925][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=null]
[2016-01-27 00:17:24,926][  FINE][106][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=193825, timestamp=1453853844925, transactionId=e9cdff08-224e-4871-94d5-fe63d1f87904]
[2016-01-27 00:17:24,926][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2016-01-27 00:17:24,926][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2016-01-27 00:17:24,926][ FINER][1260574][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R193825T1453854744892@1316288672142857~8141841921434658371, subscriberId=193,825, reservation=[12120@193826[61]]
[2016-01-27 00:17:24,927][  FINE][106][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 193,826
[2016-01-27 00:17:24,927][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2016-01-27 00:17:24,927][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:24,928][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountNotificationListener
[2016-01-27 00:17:24,928][FINEST][106][      AccountNotificationListener.accountChanged()] Rescheduling notifications as the main account expiry changed [subscriberId=193,825]
[2016-01-27 00:17:24,928][  FINE][106][                  SchedulerServiceImpl.deleteJob()] Deleting the job [name=expiryNotification.mainAccount_1_day, group=193825]
[2016-01-27 00:17:24,936][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:24,937][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=9.917]
[2016-01-27 00:17:24,938][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:24,938][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:24,939][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=11.711]
[2016-01-27 00:17:24,939][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2016-01-27 00:17:24,939][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=null]
[2016-01-27 00:17:24,942][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=2.55]
[2016-01-27 00:17:24,943][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-27 00:17:24,944][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-27 00:17:24,945][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=84.435]
[2016-01-27 00:17:24,946][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Continue]
[2016-01-27 00:17:24,947][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=102400, lastSegment=true, reservationId=R193825T1453854744892@1316288672142857~8141841921434658371, reservedAccounts=[Account: id=193826, amount=12120, unitId=61], responseCode=OK], chargedAccounts=[Account: id=193826, amount=87880, unitId=61]]]
[2016-01-27 00:17:24,948][  INFO][1260574][                     TraceInterceptorImpl.invoke()] continueReservation(...): DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=102400, lastSegment=true, reservationId=R193825T1453854744892@1316288672142857~8141841921434658371, reservedAccounts=[Account: id=193826, amount=12120, unitId=61], responseCode=OK], chargedAccounts=[Account: id=193826, amount=87880, unitId=61]] [86ms]
[2016-01-27 00:17:24,948][FINEST][1260574][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=4470178901876532200, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><continueReservationRes><errorCode>OK</errorCode><reservationId>R193825T1453854744892@1316288672142857~8141841921434658371</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>102400</grantedUnits><reservedAccounts><account><id>193826</id><amount>12120</amount></account></reservedAccounts><chargedAccounts><account><id>193826</id><amount>87880</amount></account></chargedAccounts></continueReservationRes></messages></iCCA>
[2016-01-27 00:17:24,949][  FINE][106][               SchedulerServiceImpl.scheduleOnce()] Scheduling a one-time job [job=JobData [group=193825, name=expiryNotification.mainAccount_1_day], at=3/26/16 12:17 AM]
[2016-01-27 00:17:24,951][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.013]
[2016-01-27 00:17:24,952][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=1]
[2016-01-27 00:17:24,952][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-27 00:17:24,952][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.009]
[2016-01-27 00:17:24,953][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0]
[2016-01-27 00:17:24,953][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-27 00:17:24,953][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.008]
[2016-01-27 00:17:24,954][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=96]
[2016-01-27 00:17:24,954][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-27 00:17:24,954][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=93.678]
[2016-01-27 00:17:24,954][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:24,955][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-27 00:17:24,955][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=94.637]
[2016-01-27 00:17:24,955][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:24,956][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-27 00:17:24,960][  INFO][106][      AccountNotificationListener.accountChanged()] Scheduled main account exiry notification [subscriber=193,825, expires=3/27/16 12:17 AM, notification=MainAccountExpiryNotification::[notification=ExpiryNotification::[expiryOffset=86400000, expiryUnit=ms, parentNotification=none], jobClass=AccountExpiryNotificationJob, jobName=expiryNotification.mainAccount_1_day]]
[2016-01-27 00:17:24,961][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2016-01-27 00:17:24,961][FINEST][106][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=193825]
[2016-01-27 00:17:24,961][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.data.mb.quota.100.used, currencyGroup=DATA]
[2016-01-27 00:17:24,962][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.sms.quota.100.used, currencyGroup=SMS]
[2016-01-27 00:17:24,962][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.voice.quota.100.used, currencyGroup=VOICE]
[2016-01-27 00:17:24,962][FINEST][106][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=106]
[2016-01-27 00:17:24,966][FINEST][106][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=106]
[2016-01-27 00:17:24,966][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.786]
[2016-01-27 00:17:24,967][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:24,967][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:18.747, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:24,967][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=5.163]
[2016-01-27 00:17:24,968][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-27 00:17:24,968][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:18.747, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:24,968][ FINER][106][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=193,826, subscriberId=193,825]
[2016-01-27 00:17:24,968][FINEST][106][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=193,825]
[2016-01-27 00:17:24,969][FINEST][106][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=106]
[2016-01-27 00:17:24,971][FINEST][106][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=106]
[2016-01-27 00:17:24,971][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.723]
[2016-01-27 00:17:24,972][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:24,972][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@3c1b5c7c]]
[2016-01-27 00:17:24,972][FINEST][106][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.723]
[2016-01-27 00:17:24,972][FINEST][106][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-27 00:17:24,973][FINEST][106][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@60462db7]
[2016-01-27 00:17:24,973][ FINER][106][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=193,826, subscriberId=193,825, expiryDate=3/27/16 12:17 AM]
[2016-01-27 00:17:24,974][FINEST][106][                  AccountQuotaEvaluator.evaluate()] Account summary of 1 account(s) is [summary=[currentBalance=12120, initialBalance=100000, ratio=0.1212]]
[2016-01-27 00:17:24,975][FINEST][287][                    NotificationSenderImpl$2.run()] Sending notification to subscriber [subscriberId=193,825, msisdn=43667725900, notification=AccountQuotaNotification [name=crce.credit.low.balance, amount=0.01212, currency=Euro, expiry=Sun Mar 27 00:17:18 UTC 2016]]
[2016-01-27 00:17:24,976][WARNING][287][                    NotificationSenderImpl$2.run()] Failed to send subscriber notification [subscriberId=193825, msisdn=43667725900]
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	at com.inewcs.crce.plugins.notifications.service.impl.NotificationSenderImpl$2.run(NotificationSenderImpl.java:184)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor648.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.inewcs.crce.integration.impl.IntegrationImpl$ClassLoaderSwitchingInvocationHandler.invoke(IntegrationImpl.java:62)
	... 7 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at com.inewcs.remoting.balancers.FairPlayBalancer.selectLocator(Unknown Source)
	at com.inewcs.remoting.ClusteredTransporterClient.invoke(Unknown Source)
	at com.sun.proxy.$Proxy86.send(Unknown Source)
	... 11 more
[2016-01-27 00:17:24,977][ FINER][106][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.NotificationData@6e75a8fd
[2016-01-27 00:17:24,981][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2016-01-27 00:17:24,981][FINEST][106][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=193825, remainingBalance=12120]
[2016-01-27 00:17:24,982][FINEST][106][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=193825]
[2016-01-27 00:17:24,982][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2016-01-27 00:17:32,089][FINEST][1260574][                             Messenger.onMessage()] received message: <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.7</version><application>GyApp</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><continueReservationReq><imsi>232201667725900</imsi><callingParty><address>43667725900</address><suppressNumber>false</suppressNumber></callingParty><bearerType>GPRS</bearerType><startTime>2016-01-27T00:17:18.722+0000</startTime><accumulatedDuration>13363</accumulatedDuration><accumulatedData>3072000</accumulatedData><subscriberLocation>43667</subscriberLocation><referenceNumber>917819508</referenceNumber><roaming>false</roaming><apn>wapaccess.mtel.at</apn><ratingGroup>100</ratingGroup><reservationId>R193825T1453854744892@1316288672142857~8141841921434658371</reservationId></continueReservationReq></messages></iCCA>
[2016-01-27 00:17:32,092][  INFO][1260574][                     TraceInterceptorImpl.invoke()] continueReservation(DataContinueRequest [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], reservationId=R193825T1453854744892@1316288672142857~8141841921434658371, accumulatedData=3072000, accumulatedDuration=13363, bearerType=GPRS, imsi=232201667725900, subscriberId=null, callingParty=43667725900, calledParty=null, suppressNumber=false, startTime=Wed Jan 27 00:17:18 UTC 2016, location=43667, roaming=false, referenceNumber=917819508, apn=wapaccess.mtel.at, ratingGroup=100, strategy=PESSIMISTIC, usedUnits=3072000, usedTime=0, trafficType=data])
[2016-01-27 00:17:32,095][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=3.376]
[2016-01-27 00:17:32,096][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2016-01-27 00:17:32,097][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=selectContext execTime=com.inewcs.crce.contextsharing.persistent.DatabaseSharedContext@648c3d14]
[2016-01-27 00:17:32,100][FINEST][1260574][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=193,825]
[2016-01-27 00:17:32,100][FINEST][1260574][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=193,825, msisdn=43667725900]
[2016-01-27 00:17:32,101][FINEST][1260574][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=193,825]
[2016-01-27 00:17:32,106][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=8.656]
[2016-01-27 00:17:32,106][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Profiler name=Lookup]
[2016-01-27 00:17:32,106][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.profiler.impl.SubscriberPeerImpl method=getSubscriberById execTime=com.tryge.negret.profiler.model.SubscriberImpl@507071a0]
[2016-01-27 00:17:32,107][FINEST][1260574][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=193,825]
[2016-01-27 00:17:32,107][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:32,110][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:32,110][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.991]
[2016-01-27 00:17:32,111][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:32,111][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@e64dabd]]
[2016-01-27 00:17:32,111][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=4.021]
[2016-01-27 00:17:32,111][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-27 00:17:32,112][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@12637083]
[2016-01-27 00:17:32,112][  FINE][1260574][             DataCommitClosure.commitReservation()] Commiting session part [unchargedUnits=2,048,000, unchargedTime=13,363, charged=1,024,000, overage=1,945,600, sessionId=4470178901876532200]
[2016-01-27 00:17:32,112][FINEST][1260574][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=193,825, reservationId=R193825T1453854744892@1316288672142857~8141841921434658371, tuples=[8788@193826[61]]]
[2016-01-27 00:17:32,113][FINEST][1260574][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=193,825, accountId=193,826]
[2016-01-27 00:17:32,113][WARNING][1260574][                AccountStoreImpl.loadDescriptors()] Cached descriptors expired [subscriberId=193825]
[2016-01-27 00:17:32,113][FINEST][1260574][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=193825, actionId=null]
[2016-01-27 00:17:32,113][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=193,825, actionId=-487951169]
[2016-01-27 00:17:32,114][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:32,116][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:32,117][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.047]
[2016-01-27 00:17:32,117][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:32,117][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:18.747, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:32,118][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.181]
[2016-01-27 00:17:32,118][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2016-01-27 00:17:32,118][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=[SubscriberAccount [id=193826, subscriberId=193825, balance=12120, initialBalance=100000, currencyId=101000, categoryId=1, typeId=1, expires=2016-03-27 00:17:18.747, lastReset=2016-01-27 00:17:14.046]]]
[2016-01-27 00:17:32,118][ FINER][1260574][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=193,826, subscriberId=193,825]
[2016-01-27 00:17:32,119][FINEST][1260574][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=193,825]
[2016-01-27 00:17:32,119][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:32,121][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:32,122][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.679]
[2016-01-27 00:17:32,122][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:32,122][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=[com.inewcs.crce.accounting.model.Reservation@4d0babeb]]
[2016-01-27 00:17:32,123][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.75]
[2016-01-27 00:17:32,123][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2016-01-27 00:17:32,123][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=[Lcom.inewcs.crce.accounting.model.Reservation;@1d847eb6]
[2016-01-27 00:17:32,124][ FINER][1260574][     PrepaidAccountManager.createRealtimeAccount()] Detected first account usage [accountId=193,826, subscriberId=193,825, expiryDate=3/27/16 12:17 AM]
[2016-01-27 00:17:32,124][  INFO][1260574][             DataCommitClosure.commitReservation()] Charges: sessionId=4470178901876532200, [ChargedInfo [account=193826, amount=8788, unit=61, descriptor=15831640]]
[2016-01-27 00:17:32,124][FINEST][1260574][    CostControlServiceImpl.updateCostLimitStatus()] Updating cost control limit status [subscriberId=193,825, trafficType=DATA, zoneType=HPLMN]
[2016-01-27 00:17:32,127][FINEST][1260574][            CostControlCountersService$2.execute()] Incrementing cost control counter [subscriberId=193,825, trafficType=ALL, zoneType=ALL, chargedUnits=8,788]
[2016-01-27 00:17:32,127][ FINER][1260574][                      TransparentProperties.bind()] Binding transparent properties: com.tryge.negret.profiler.impl.facets.CountersData@bbfad33
[2016-01-27 00:17:32,128][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Checking cost control notifications for status change [subscriberId=193,825]
[2016-01-27 00:17:32,128][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=193,825, oldUsedUnits=87,880, newUsedUnits=96,668, threashold=15,000,000]
[2016-01-27 00:17:32,128][FINEST][7198][CostControlNotificationListener.onCostLimitStatusIncreased()] Calculating cost control notification threshold [subscriberId=193,825, oldUsedUnits=87,880, newUsedUnits=96,668, threashold=20,000,000]
[2016-01-27 00:17:32,131][ FINER][1260574][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-27 00:17:32,132][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=1,945,600, duration=6,133, setup=false, ratingGroup=100]
[2016-01-27 00:17:32,132][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-27 00:17:32,132][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-27 00:17:32,133][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-27 00:17:32,133][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:32,133][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=6133]
[2016-01-27 00:17:32,133][FINEST][1260574][                                  DataRater.rate()] Charging setup fee [setupPeriod=0B, setupPrice=0]
[2016-01-27 00:17:32,134][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=6133]
[2016-01-27 00:17:32,134][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=1,945,600, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=1,900]
[2016-01-27 00:17:32,134][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,134][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-27 00:17:32,135][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:32,135][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=6133]
[2016-01-27 00:17:32,135][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=6133]
[2016-01-27 00:17:32,135][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=1,945,600, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=38]
[2016-01-27 00:17:32,135][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,136][FINEST][1260574][                         DataRater.updateAccount()] Store account data [subscriber=193,825 balance=3,332 currency=Euro unlimited=false expiry=1/26/17 12:17 AM]
[2016-01-27 00:17:32,136][FINEST][1260574][                DataChargingStrategy.newResponse()] Charging action: charge
grantPart=DataRatingPart: begin=1453853838000, transferredData=1945600, grantedUnits=0, grantedTime=900000
[2016-01-27 00:17:32,137][  FINE][1260574][             DataCommitClosure.chargeOverageData()] Charged overage data [volume=1945600, charges=[]]
[2016-01-27 00:17:32,137][FINEST][1260574][         CostControlServiceImpl.costLimitReached()] Checking cost control limit [subscriberId=193,825, trafficType=DATA, zoneType=HPLMN]
[2016-01-27 00:17:32,137][ FINER][1260574][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: a1ta.m:tel/101001/data
[2016-01-27 00:17:32,138][FINEST][1260574][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=193,825, reservation=InternalReservationImpl{id='R193825T1453854752138@1316295917394362~3982871073492061112', subscriberId=193825, expires=1453854752138, reservedAt=1453853852138, reservation=[]}]
[2016-01-27 00:17:32,138][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=13,363, setup=true, ratingGroup=100]
[2016-01-27 00:17:32,138][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 1
[2016-01-27 00:17:32,139][ FINER][1260574][                   RatingGroupClauseImpl$1.check()] Executing rating group filter: 2
[2016-01-27 00:17:32,139][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000020
[2016-01-27 00:17:32,139][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:32,139][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=13363]
[2016-01-27 00:17:32,139][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=13363]
[2016-01-27 00:17:32,140][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:32,140][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:32,140][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,141][  FINE][1260574][                                DataRater.<init>()] DataRater initialized [subscriberId=193,825, transferredUnits=5,242,880, duration=913,363, setup=true, ratingGroup=100]
[2016-01-27 00:17:32,141][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,291]
[2016-01-27 00:17:32,141][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=MB Data, durationMillis=913363]
[2016-01-27 00:17:32,141][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=1024, perPeriod=1024, currency=MB Data, durationMillis=913363]
[2016-01-27 00:17:32,142][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=1,024, segmentPrice=1,024, numberOfSegments=5,120]
[2016-01-27 00:17:32,142][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,142][ FINER][1260574][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000021
[2016-01-27 00:17:32,142][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:32,143][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=13363]
[2016-01-27 00:17:32,143][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=13363]
[2016-01-27 00:17:32,143][FINEST][1260574][     DataConfigurationServiceImpl.getGrantedData()] Configuration item not found
[2016-01-27 00:17:32,143][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:32,144][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,144][FINEST][1260574][                         DataRater.updateAccount()] Store account data [subscriber=193,825 balance=3,332 currency=Euro unlimited=false expiry=1/26/17 12:17 AM]
[2016-01-27 00:17:32,144][ FINER][1260574][                   CompiledRatingFilter.rateData()] Executing rating filter for session request [filterId=1,010,010,000,292]
[2016-01-27 00:17:32,145][ FINER][1260574][                                   DataRater.add()] Try rating [setup=true, begin=0, duration=0, price=0, perPeriod=0, currency=Euro, durationMillis=913363]
[2016-01-27 00:17:32,145][ FINER][1260574][                                   DataRater.add()] Try rating [setup=false, begin=0, duration=0, price=4394, perPeriod=51200, currency=Euro, durationMillis=913363]
[2016-01-27 00:17:32,145][FINEST][1260574][                                  DataRater.rate()] Charging segment part [transferredUnits=5,242,880, alreadyGranted=0, segmentSize=51,200, segmentPrice=4,394, numberOfSegments=103]
[2016-01-27 00:17:32,145][FINEST][1260574][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=193825, actionId=-487951169]
[2016-01-27 00:17:32,146][FINEST][1260574][                         DataRater.updateAccount()] Store account data [subscriber=193,825 balance=3,332 currency=Euro unlimited=false expiry=1/26/17 12:17 AM]
[2016-01-27 00:17:32,146][FINEST][1260574][                DataChargingStrategy.newResponse()] Charging action: reserve
grantPart=DataRatingPart: begin=1453853852085, transferredData=3072000, grantedUnits=0, grantedTime=900000
[2016-01-27 00:17:32,147][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:32,147][FINEST][1260574][                            AccountDaoImpl.flush()] Flushing account [id=193,826, balance=3,332]
[2016-01-27 00:17:32,149][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.973]
[2016-01-27 00:17:32,150][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2016-01-27 00:17:32,150][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=null]
[2016-01-27 00:17:32,150][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.719]
[2016-01-27 00:17:32,151][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:32,151][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:32,154][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:32,155][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=7.87]
[2016-01-27 00:17:32,155][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2016-01-27 00:17:32,155][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=null]
[2016-01-27 00:17:32,156][ FINER][1260574][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R193825T1453854744892@1316288672142857~8141841921434658371]
[2016-01-27 00:17:32,156][FINEST][1260574][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=1,260,574]
[2016-01-27 00:17:32,159][FINEST][1260574][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=1,260,574]
[2016-01-27 00:17:32,159][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.197]
[2016-01-27 00:17:32,159][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2016-01-27 00:17:32,160][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1]
[2016-01-27 00:17:32,160][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=4.209]
[2016-01-27 00:17:32,160][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2016-01-27 00:17:32,160][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=null]
[2016-01-27 00:17:32,161][  FINE][106][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=193825, timestamp=1453853852161, transactionId=54fac55b-0466-4a30-a491-1c8c998d83c6]
[2016-01-27 00:17:32,161][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2016-01-27 00:17:32,161][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2016-01-27 00:17:32,162][  FINE][106][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 193,826
[2016-01-27 00:17:32,162][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2016-01-27 00:17:32,162][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountNotificationListener
[2016-01-27 00:17:32,162][  INFO][106][      AccountNotificationListener.accountChanged()] Not a main account or no expiry change happened [subscriber=193,825, account=com.inewcs.crce.accounting.services.impl.ReadOnlyAccountProxy@640ab276]
[2016-01-27 00:17:32,162][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2016-01-27 00:17:32,162][FINEST][106][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=193825]
[2016-01-27 00:17:32,163][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.data.mb.quota.100.used, currencyGroup=DATA]
[2016-01-27 00:17:32,163][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.sms.quota.100.used, currencyGroup=SMS]
[2016-01-27 00:17:32,163][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.voice.quota.100.used, currencyGroup=VOICE]
[2016-01-27 00:17:32,163][FINEST][106][                  AccountQuotaEvaluator.evaluate()] Notification already sent [notification=crce.credit.low.balance]
[2016-01-27 00:17:32,163][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.Data.10MB.remaining, currencyId=101,003]
[2016-01-27 00:17:32,163][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.DataMB.10MB.remaining, currencyId=101,006]
[2016-01-27 00:17:32,164][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTminutes.quota.100.used, currencyId=101,005]
[2016-01-27 00:17:32,164][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTSMS.quota.100.used, currencyId=101,002]
[2016-01-27 00:17:32,164][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGminutes.quota.100.used, currencyId=101,001]
[2016-01-27 00:17:32,164][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGSMS.quota.100.used, currencyId=101,004]
[2016-01-27 00:17:32,164][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTminutes.10minutes.remaining, currencyId=101,005]
[2016-01-27 00:17:32,165][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGminutes.10minutes.remaining, currencyId=101,001]
[2016-01-27 00:17:32,165][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.AUTSMS.10sms.remaining, currencyId=101,002]
[2016-01-27 00:17:32,165][FINEST][106][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=crce.TSGSMS.10sms.remaining, currencyId=101,004]
[2016-01-27 00:17:32,165][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2016-01-27 00:17:32,165][FINEST][106][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=193825, remainingBalance=3332]
[2016-01-27 00:17:32,165][FINEST][106][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=193825]
[2016-01-27 00:17:32,166][FINEST][106][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2016-01-27 00:17:32,168][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=2.136]
[2016-01-27 00:17:32,169][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2016-01-27 00:17:32,169][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.contextsharing.persistent.DatabaseContextSharing method=updateContext execTime=null]
[2016-01-27 00:17:32,172][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=79.597]
[2016-01-27 00:17:32,172][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=Continue]
[2016-01-27 00:17:32,172][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.inewcs.crce.apps.data.impl.DataApplicationImpl method=continueReservation execTime=DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=0, lastSegment=true, reservationId=R193825T1453854752138@1316295917394362~3982871073492061112, reservedAccounts=[], responseCode=INSUFFICIENT_FUNDS], chargedAccounts=[Account: id=193826, amount=8788, unitId=61]]]
[2016-01-27 00:17:32,172][  INFO][1260574][                     TraceInterceptorImpl.invoke()] continueReservation(...): DataContinueResponse [reservationResponse=DataReservationResponse [header=[sessionId=4470178901876532200, sessionBeginTimeStamp=Wed Jan 27 00:17:18 UTC 2016, chargingType=REGULAR], grantedTime=900000, grantedUnits=0, lastSegment=true, reservationId=R193825T1453854752138@1316295917394362~3982871073492061112, reservedAccounts=[], responseCode=INSUFFICIENT_FUNDS], chargedAccounts=[Account: id=193826, amount=8788, unitId=61]] [80ms]
[2016-01-27 00:17:32,173][FINEST][1260574][                                  Messenger.send()] send message with properties {JMSXGroupID=null, JMSXGroupSeq=0, JMSCorrelationID=4470178901876532200, JMSReplyTo=inew-cs.ocs01.data}:
 <?xml version="1.0" encoding="UTF-8"?>
<iCCA xsi:noNamespaceSchemaLocation="iccaMessages.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><version>1.0</version><application>CRCE</application><sessionId>4470178901876532200</sessionId><applSessionId>100-38722-174200000</applSessionId><sessionBeginTimeStamp>2016-01-27T00:17:18.722+0000</sessionBeginTimeStamp><messages><continueReservationRes><errorCode>InsufficientFunds</errorCode><reservationId>R193825T1453854752138@1316295917394362~3982871073492061112</reservationId><lastSegment>true</lastSegment><longSession>false</longSession><grantedTime>900000</grantedTime><grantedUnits>0</grantedUnits><reservedAccounts></reservedAccounts><chargedAccounts><account><id>193826</id><amount>8788</amount></account></chargedAccounts></continueReservationRes></messages></iCCA>
[2016-01-27 00:17:32,174][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=0.009]
[2016-01-27 00:17:32,174][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getProducingTime execTime=2]
[2016-01-27 00:17:32,175][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ProducingTime]
[2016-01-27 00:17:32,175][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0.006]
[2016-01-27 00:17:32,175][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getBrokerTime execTime=0]
[2016-01-27 00:17:32,176][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=BrokerTime]
[2016-01-27 00:17:32,176][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=0.008]
[2016-01-27 00:17:32,177][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.data.DataMessageListener method=getConsumingTime execTime=88]
[2016-01-27 00:17:32,177][FINEST][1260574][MethodResultMonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Data name=ConsumingTime]
[2016-01-27 00:17:32,177][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=85.504]
[2016-01-27 00:17:32,177][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:32,177][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]
[2016-01-27 00:17:32,178][FINEST][1260574][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=86.141]
[2016-01-27 00:17:32,178][FINEST][1260574][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=IccaGateway name=onMessage]
[2016-01-27 00:17:32,178][FINEST][1260574][MethodResultMonitorListenerImpl.methodInvocation()] Method Result Monitoring event received [class=com.tryge.negret.gw.icca.common.IccaMessageListener method=onMessage execTime=null]