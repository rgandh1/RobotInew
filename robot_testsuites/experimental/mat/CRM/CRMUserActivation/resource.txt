*** Settings ***
Documentation     A resource file containing the application specific keywords
...               that create our own domain specific language. This resource
...               implements keywords for testing HTML version of the test
...               application.
Library           Selenium2Library
Library           OperatingSystem
Library           BuiltIn
Library           SSHLibrary

*** Variables ***
${SERVER}         10.0.20.17:1084
${BROWSER}        firefox
${DELAY}          0.6
${VALID USER}     crmmanager
${VALID PASSWD}    crmmanager
${LOGIN URL}      http://${SERVER}/evoweb/web/crm/257_EN.htm
${TESTCASEPATH}    /opt/robot/robotframework-selenium2library-master/robotframework-selenium2library-master/demo/CRMRobot/
${MSISDN}         56951125162
${REF CODE}       56951125162

*** Keywords ***
Open Browser To Login Page
    Open Browser    ${LOGIN URL}    ${BROWSER}
    Maximize Browser Window
    Set Selenium Speed    ${DELAY}

Go To Login Page
    Go To    ${LOGIN URL}

Login To CRM
    Open Browser    ${LOGIN URL}    ${BROWSER}
    Maximize Browser Window
    Set Selenium Speed    ${DELAY}
    Go To    ${LOGIN URL}
    Input Text    id=username    ${VALID USER}
    Input Text    id=password    ${VALID PASSWD}
    Click Element    name=login_submit
    Input Text    name=filter_msisdn    ${MSISDN}
    Click Element    //input[@value='Submit']
    Click Element    //input[@id='activate-button']

Insert Parameters
    Input Text    name=db_firstname    First
    Input Text    name=db_lastname    Last
    Input Text    name=db_address    Address 1
    Input Text    name=db_state    Santiago
    Input Text    name=db_city    Santiago de Chile
    Input Text    name=db_area_code    8320000
    Input Text    name=db_country    Chile
    Input Text    name=db_referral_code    ${REF CODE}
    Input Text    name=db_phone    111111111
    Input Text    name=db_email    test.user@i-new.com
    Input Text    name=db_birthdate    05/06/1990
    Select from List    name=db_identification_type    Identification Card
    Input Text    name=db_identification_number    12345
    Input Text    name=db_identification_date_valid    05/03/2013
    Click Element    name=save
