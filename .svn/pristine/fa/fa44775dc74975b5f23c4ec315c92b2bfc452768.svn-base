[2015-07-01 12:18:35,734][FINEST][630][   SubscriberPeerImpl.getSubscriberProfileByImsi()] Reading subscriber profile by IMSI [imsi=530052041010000]
[2015-07-01 12:18:36,009][FINEST][630][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:18:36,010][FINEST][630][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:18:36,010][FINEST][630][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:18:36,012][FINEST][630][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=43,458,920 msisdn=642041010000 imsi=530052041010000]
[2015-07-01 12:18:36,078][  INFO][653][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5069300000, sessionBeginTimeStamp=Wed Jul 01 12:18:35 UTC 2015, chargingType=REGULAR], trafficType=MOC, imsi=530052041010000, subscriberId=43458920, suppressNumber=false, startTime=Wed Jul 01 12:18:36 UTC 2015, duration=0, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-07-01 12:18:36,177][FINEST][653][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:18:36,177][FINEST][653][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:18:36,177][FINEST][653][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:18:36,178][FINEST][653][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-07-01 12:18:36,408][  FINE][653][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-07-01 12:18:36,415][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=create execTime=6.289]
[2015-07-01 12:18:36,417][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2015-07-01 12:18:36,417][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=CreateSession]
[2015-07-01 12:18:36,422][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=3.298]
[2015-07-01 12:18:36,423][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:18:36,424][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:18:36,425][FINEST][653][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:18:36,425][ FINER][653][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-07-01 12:18:36,426][FINEST][653][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=43,458,920, reservation=InternalReservationImpl{id='R43458920T1435753416426@18096160364309~238480651506830853', subscriberId=43458920, expires=1435753416426, reservedAt=1435753116426, reservation=[]}]
[2015-07-01 12:18:36,426][FINEST][653][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,116,056, duration=60,000]
[2015-07-01 12:18:36,427][FINEST][653][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,176,056, duration=60,000]
[2015-07-01 12:18:36,427][ FINER][653][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-07-01 12:18:36,428][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-07-01 12:18:36,428][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-07-01 12:18:36,428][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-07-01 12:18:36,428][FINEST][653][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:36,429][ FINER][653][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:36,429][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=43,458,920, actionId=-368576716]
[2015-07-01 12:18:36,430][FINEST][653][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=653]
[2015-07-01 12:18:36,433][FINEST][653][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=653]
[2015-07-01 12:18:36,433][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.903]
[2015-07-01 12:18:36,434][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:36,434][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.912]
[2015-07-01 12:18:36,434][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-07-01 12:18:36,435][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:36,435][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-07-01 12:18:36,435][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-07-01 12:18:36,435][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-07-01 12:18:36,436][ FINER][653][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:36,436][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,436][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:36,436][ FINER][653][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-07-01 12:18:36,437][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-07-01 12:18:36,437][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-07-01 12:18:36,437][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-07-01 12:18:36,437][FINEST][653][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:36,438][ FINER][653][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:36,438][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,438][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:36,438][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-07-01 12:18:36,438][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-07-01 12:18:36,439][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-07-01 12:18:36,439][ FINER][653][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:36,439][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,440][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:36,440][ FINER][653][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-07-01 12:18:36,440][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-07-01 12:18:36,440][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-07-01 12:18:36,440][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-07-01 12:18:36,441][FINEST][653][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:36,441][ FINER][653][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:36,441][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,441][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:36,441][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-07-01 12:18:36,442][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-07-01 12:18:36,442][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-07-01 12:18:36,442][ FINER][653][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:36,442][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,443][ FINER][653][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:36,443][ FINER][653][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-07-01 12:18:36,443][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-07-01 12:18:36,443][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-07-01 12:18:36,444][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-07-01 12:18:36,444][FINEST][653][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:36,444][ FINER][653][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-07-01 12:18:36,444][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,444][ FINER][653][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=43,458,921, subscriberId=43,458,920]
[2015-07-01 12:18:36,445][FINEST][653][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=43,458,920]
[2015-07-01 12:18:36,446][FINEST][653][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=653]
[2015-07-01 12:18:36,448][FINEST][653][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=653]
[2015-07-01 12:18:36,448][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.207]
[2015-07-01 12:18:36,449][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:36,449][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=4.22]
[2015-07-01 12:18:36,450][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-07-01 12:18:36,450][FINEST][653][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=43,458,920, accountId=43,458,921]
[2015-07-01 12:18:36,451][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,451][FINEST][653][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=43,458,921, available=20,000]
[2015-07-01 12:18:36,451][ FINER][653][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-07-01 12:18:36,451][FINEST][653][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-07-01 12:18:36,452][ FINER][653][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-07-01 12:18:36,452][ FINER][653][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-07-01 12:18:36,452][FINEST][653][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,452][FINEST][653][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=43,458,921, available=20,000]
[2015-07-01 12:18:36,454][FINEST][653][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=653]
[2015-07-01 12:18:36,454][FINEST][653][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=653]
[2015-07-01 12:18:36,455][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.197]
[2015-07-01 12:18:36,455][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:18:36,455][ FINER][653][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R43458920T1435753416426@18096160364309~238480651506830853, subscriberId=43,458,920, reservation=[20000@43458921[270]]
[2015-07-01 12:18:36,456][FINEST][653][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=653]
[2015-07-01 12:18:36,572][FINEST][653][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=653]
[2015-07-01 12:18:36,572][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=116.339]
[2015-07-01 12:18:36,573][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:18:36,573][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=117.322]
[2015-07-01 12:18:36,573][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2015-07-01 12:18:36,574][FINEST][653][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=43458920, actionId=-368576716]
[2015-07-01 12:18:36,580][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=5.742]
[2015-07-01 12:18:36,581][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-07-01 12:18:36,582][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-07-01 12:18:36,585][FINEST][653][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=506.698]
[2015-07-01 12:18:36,586][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-07-01 12:18:36,586][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOC]
[2015-07-01 12:18:36,588][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveInitial]
[2015-07-01 12:18:36,589][FINEST][653][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOCInitial]
[2015-07-01 12:18:36,590][  INFO][653][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5069300000, responseCode=OK, reservationId=R43458920T1435753416426@18096160364309~238480651506830853, lastSegment=false, grantedTime=60000, accounts=[[accountId=43458921, amount=20000, unitId=270]]] [511ms]
[2015-07-01 12:18:37,837][  INFO][721][                     TraceInterceptorImpl.invoke()] update(SessionUpdateReservationRequest [header=[sessionId=5069300000, sessionBeginTimeStamp=Wed Jul 01 12:18:35 UTC 2015, chargingType=REGULAR], reservationId=R43458920T1435753416426@18096160364309~238480651506830853, trafficType=MOC, imsi=530052041010000, subscriberId=43458920, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], bearerType=Voice, startTime=Wed Jul 01 12:18:37 UTC 2015, duration=0, location=64278, roaming=false, referenceNumber=0001ABFF0E])
[2015-07-01 12:18:38,019][FINEST][721][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:18:38,019][FINEST][721][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:18:38,020][FINEST][721][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:18:38,021][FINEST][721][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-07-01 12:18:38,336][  FINE][721][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-07-01 12:18:38,342][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.617]
[2015-07-01 12:18:38,343][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:18:38,343][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:18:38,344][FINEST][721][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:18:38,345][ FINER][721][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-07-01 12:18:38,345][FINEST][721][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=43,458,920]
[2015-07-01 12:18:38,346][FINEST][721][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=721]
[2015-07-01 12:18:38,349][FINEST][721][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=721]
[2015-07-01 12:18:38,349][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.701]
[2015-07-01 12:18:38,350][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:38,350][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=4.647]
[2015-07-01 12:18:38,350][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-07-01 12:18:38,351][FINEST][721][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=43,458,920, accountId=43,458,921]
[2015-07-01 12:18:38,351][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=43,458,920, actionId=-652393132]
[2015-07-01 12:18:38,352][FINEST][721][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=721]
[2015-07-01 12:18:38,355][FINEST][721][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=721]
[2015-07-01 12:18:38,355][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.516]
[2015-07-01 12:18:38,356][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:38,356][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.426]
[2015-07-01 12:18:38,356][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-07-01 12:18:38,357][ FINER][721][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=43,458,921, subscriberId=43,458,920]
[2015-07-01 12:18:38,357][FINEST][721][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=43,458,920]
[2015-07-01 12:18:38,358][FINEST][721][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,117,078, duration=60,000]
[2015-07-01 12:18:38,358][FINEST][721][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,177,078, duration=60,000]
[2015-07-01 12:18:38,359][ FINER][721][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-07-01 12:18:38,359][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-07-01 12:18:38,359][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-07-01 12:18:38,359][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-07-01 12:18:38,360][FINEST][721][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:38,360][ FINER][721][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:38,360][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,360][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:38,361][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-07-01 12:18:38,361][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-07-01 12:18:38,361][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-07-01 12:18:38,361][ FINER][721][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:38,361][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,362][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-07-01 12:18:38,362][ FINER][721][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-07-01 12:18:38,362][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-07-01 12:18:38,362][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-07-01 12:18:38,363][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-07-01 12:18:38,363][FINEST][721][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:38,363][ FINER][721][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:38,363][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,364][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:38,364][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-07-01 12:18:38,364][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-07-01 12:18:38,364][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-07-01 12:18:38,364][ FINER][721][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:38,365][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,365][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-07-01 12:18:38,365][ FINER][721][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-07-01 12:18:38,365][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-07-01 12:18:38,366][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-07-01 12:18:38,366][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-07-01 12:18:38,366][FINEST][721][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:38,366][ FINER][721][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:38,366][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,367][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:38,367][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-07-01 12:18:38,367][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-07-01 12:18:38,367][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-07-01 12:18:38,368][ FINER][721][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:38,368][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,368][ FINER][721][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-07-01 12:18:38,368][ FINER][721][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-07-01 12:18:38,369][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-07-01 12:18:38,369][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-07-01 12:18:38,369][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-07-01 12:18:38,369][FINEST][721][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:18:38,369][ FINER][721][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-07-01 12:18:38,370][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,370][  FINE][721][                      SpecialChargeAction.charge()] accountId=43,458,921 amount=20,000 proposal=true
[2015-07-01 12:18:38,370][FINEST][721][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=43,458,921, available=20,000]
[2015-07-01 12:18:38,371][ FINER][721][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-07-01 12:18:38,371][FINEST][721][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-07-01 12:18:38,371][ FINER][721][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-07-01 12:18:38,371][ FINER][721][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-07-01 12:18:38,372][FINEST][721][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,372][FINEST][721][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=43,458,921, available=20,000]
[2015-07-01 12:18:38,373][FINEST][721][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=721]
[2015-07-01 12:18:38,373][FINEST][721][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=721]
[2015-07-01 12:18:38,374][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.142]
[2015-07-01 12:18:38,374][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:18:38,375][FINEST][721][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=43458920, actionId=-652393132]
[2015-07-01 12:18:38,380][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=5.241]
[2015-07-01 12:18:38,382][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-07-01 12:18:38,382][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-07-01 12:18:38,386][FINEST][721][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=update execTime=548.135]
[2015-07-01 12:18:38,386][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Update]
[2015-07-01 12:18:38,387][FINEST][721][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=UpdateMOC]
[2015-07-01 12:18:38,388][  INFO][721][                     TraceInterceptorImpl.invoke()] update(...): SessionReservationResponse [sessionId=5069300000, responseCode=OK, reservationId=R43458920T1435753416426@18096160364309~238480651506830853, lastSegment=false, grantedTime=60000, accounts=[]] [550ms]
[2015-07-01 12:18:38,788][FINEST][764][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@1b4bc748, com.tryge.negret.profiler.services.ProviderType@c0855f8, com.tryge.negret.profiler.services.ProviderType@774412f3]
[2015-07-01 12:18:38,851][  INFO][734][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5069300000, sessionBeginTimeStamp=Wed Jul 01 12:18:35 UTC 2015, chargingType=REGULAR], reservationId=R43458920T1435753416426@18096160364309~238480651506830853, finalCommit=true, usedTime=1000])
[2015-07-01 12:18:38,856][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.442]
[2015-07-01 12:18:38,857][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:18:38,859][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:18:38,860][  FINE][734][                SessionCommitClosure.withContext()] try to commit reservation: R43458920T1435753416426@18096160364309~238480651506830853
[2015-07-01 12:18:38,963][FINEST][734][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:18:38,963][FINEST][734][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:18:38,963][FINEST][734][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:18:38,964][FINEST][734][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=43,458,920]
[2015-07-01 12:18:38,965][FINEST][734][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=734]
[2015-07-01 12:18:38,968][FINEST][734][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=734]
[2015-07-01 12:18:38,968][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.206]
[2015-07-01 12:18:38,968][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:38,969][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=4.175]
[2015-07-01 12:18:38,969][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-07-01 12:18:38,970][FINEST][734][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=43,458,920, reservationId=R43458920T1435753416426@18096160364309~238480651506830853, tuples=[20000@43458921[270]]]
[2015-07-01 12:18:38,970][FINEST][734][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=43,458,920, accountId=43,458,921]
[2015-07-01 12:18:38,971][FINEST][734][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=43,458,920, actionId=897223479]
[2015-07-01 12:18:38,971][FINEST][734][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=734]
[2015-07-01 12:18:38,974][FINEST][734][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=734]
[2015-07-01 12:18:38,974][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.167]
[2015-07-01 12:18:38,975][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:38,975][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.102]
[2015-07-01 12:18:38,975][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-07-01 12:18:38,976][ FINER][734][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=43,458,921, subscriberId=43,458,920]
[2015-07-01 12:18:38,976][FINEST][734][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=43,458,920]
[2015-07-01 12:18:38,977][FINEST][734][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=734]
[2015-07-01 12:18:38,978][FINEST][734][                            AccountDaoImpl.flush()] Flushing account [id=43,458,921, balance=9,980,000]
[2015-07-01 12:18:38,980][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=2.052]
[2015-07-01 12:18:38,980][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2015-07-01 12:18:38,981][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.71]
[2015-07-01 12:18:38,981][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:18:38,983][FINEST][734][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=734]
[2015-07-01 12:18:38,984][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=6.564]
[2015-07-01 12:18:38,984][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:18:38,984][ FINER][734][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R43458920T1435753416426@18096160364309~238480651506830853]
[2015-07-01 12:18:38,985][FINEST][734][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=734]
[2015-07-01 12:18:38,989][FINEST][734][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=734]
[2015-07-01 12:18:38,990][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=4.924]
[2015-07-01 12:18:38,990][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:18:38,991][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=6.042]
[2015-07-01 12:18:38,991][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2015-07-01 12:18:38,991][FINEST][734][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=43458920, actionId=897223479]
[2015-07-01 12:18:38,991][  FINE][ 48][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=43458920, timestamp=1435753118991, transactionId=18ebf7f5-382d-4339-adcf-ec9022d1027b]
[2015-07-01 12:18:38,992][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2015-07-01 12:18:38,992][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2015-07-01 12:18:38,992][FINEST][734][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:18:38,993][  FINE][ 48][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 43,458,921
[2015-07-01 12:18:38,993][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2015-07-01 12:18:38,994][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2015-07-01 12:18:38,994][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=43458920, remainingBalance=9980000]
[2015-07-01 12:18:38,994][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=43458920]
[2015-07-01 12:18:38,995][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountExpiryNotificationListener
[2015-07-01 12:18:38,995][  INFO][ 48][AccountExpiryNotificationListener.isMainTopupOrChangedExpiry()] Balance or expiry changed evaluation result [isTopup=false, changedExpiry=false]
[2015-07-01 12:18:38,995][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2015-07-01 12:18:38,995][FINEST][ 48][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=43458920]
[2015-07-01 12:18:38,996][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_20_percent, currencyId=101,004]
[2015-07-01 12:18:38,993][FINEST][734][                       SessionTicketImpl.newPart()] added part, parts: [[TicketPartImpl duration=0 segments=null data=0]]
[2015-07-01 12:18:38,997][FINEST][734][                   SessionTicketImpl.finalCommit()] About to write final tickets, segments are: [(SessionSegment [duration=0, feature=15, charges=null, count=1, transferredData=0, ratingGroup=-2147483648])]
[2015-07-01 12:18:38,996][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_used, currencyId=101,004]
[2015-07-01 12:18:39,001][ FINER][1262][                          TicketSenderImpl$1.run()] Sending ticket to inew-cs.crce.cdr: 5.3|101|true|1|CRCE|CDR|crce01.tb13|2015-07-01T12:18:38.993+0000|2015-07-01T12:18:35.000+0000|5069300000|1|1|43458920|642041010000|PREPAID|ACTIVE||1|NONE|OK||1.2|FinalCommit|BasicSession|1|530052041010000|642041010000|false|642041010000|(network) bumblebee|Local (on-net)|Originating||||Voice|false|64278|(network) TNZ #8|2015-07-01T12:18:37.000+0000|0|1000|60000|0|0|0001ABFF0E|false|101001|15730641|101001|20000|20000|NZD|9980000|PREPAID|OK||
[2015-07-01 12:18:39,002][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_20_percent, currencyId=101,003]
[2015-07-01 12:18:39,003][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_used, currencyId=101,003]
[2015-07-01 12:18:39,004][FINEST][ 48][                  AccountQuotaEvaluator.evaluate()] Notification conditions not met [subscriberId=43,458,920, notification=low_credit_05]
[2015-07-01 12:18:39,004][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=deleteContext execTime=1.535]
[2015-07-01 12:18:39,004][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_used, currencyGroup=DATA]
[2015-07-01 12:18:39,005][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_20_percent, currencyId=101,000]
[2015-07-01 12:18:39,005][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=rollover_data_quota_20mb, currencyId=101,006]
[2015-07-01 12:18:39,006][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_20mb, currencyId=4]
[2015-07-01 12:18:39,007][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_used, currencyId=6]
[2015-07-01 12:18:39,006][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Delete]
[2015-07-01 12:18:39,007][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_20_percent, currencyId=6]
[2015-07-01 12:18:39,008][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_20_percent, currencyId=2]
[2015-07-01 12:18:39,008][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_used, currencyId=2]
[2015-07-01 12:18:39,009][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_used, currencyId=3]
[2015-07-01 12:18:39,009][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_used, currencyId=101,000]
[2015-07-01 12:18:39,010][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_20_percent, currencyId=3]
[2015-07-01 12:18:39,011][FINEST][734][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=159.588]
[2015-07-01 12:18:39,011][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-07-01 12:18:39,011][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2015-07-01 12:18:39,012][FINEST][734][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=CommitFinal]
[2015-07-01 12:18:39,012][  INFO][734][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5069300000, sessionBeginTimeStamp=Wed Jul 01 12:18:35 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R43458920T1435753416426@18096160364309~238480651506830853, accounts=[[accountId=43458921, amount=20000, unitId=270]]] [161ms]
[2015-07-01 12:18:39,086][FINEST][651][     SubscriberPeerImpl.getSubscriberProfileById()] Reading subscriber profile by ID [subscriberId=43,458,920]
[2015-07-01 12:18:39,262][FINEST][651][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:18:39,263][FINEST][651][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:18:39,263][FINEST][651][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:18:39,264][FINEST][651][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=43,458,920 msisdn=642041010000 imsi=530052041010000]