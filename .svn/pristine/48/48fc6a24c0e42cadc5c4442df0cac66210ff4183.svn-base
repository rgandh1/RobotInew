[2015-07-01 12:21:31,052][FINEST][104][   SubscriberPeerImpl.getSubscriberProfileByImsi()] Reading subscriber profile by IMSI [imsi=530052041010000]
[2015-07-01 12:21:31,196][FINEST][104][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:21:31,197][FINEST][104][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:21:31,197][FINEST][104][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:21:31,199][FINEST][104][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=43,458,920 msisdn=642041010000 imsi=530052041010000]
[2015-07-01 12:21:31,233][  INFO][784][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5069500000, sessionBeginTimeStamp=Wed Jul 01 12:21:30 UTC 2015, chargingType=REGULAR], trafficType=MTC, imsi=530052041010000, subscriberId=43458920, suppressNumber=false, startTime=Wed Jul 01 12:21:31 UTC 2015, duration=0, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-07-01 12:21:31,345][FINEST][784][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:21:31,345][FINEST][784][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:21:31,346][FINEST][784][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:21:31,347][FINEST][784][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-07-01 12:21:31,525][  FINE][784][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-07-01 12:21:31,530][FINEST][784][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=create execTime=5.18]
[2015-07-01 12:21:31,532][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2015-07-01 12:21:31,532][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=CreateSession]
[2015-07-01 12:21:31,536][FINEST][784][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=2.938]
[2015-07-01 12:21:31,538][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:21:31,538][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:21:31,539][FINEST][784][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:21:31,539][ FINER][784][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/mtc
[2015-07-01 12:21:31,540][FINEST][784][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=43,458,920, reservation=InternalReservationImpl{id='R43458920T1435754011540@18271274421416~-8153429688683410279', subscriberId=43458920, expires=1435754011540, reservedAt=1435753291540, reservation=[]}]
[2015-07-01 12:21:31,540][FINEST][784][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,291,215, duration=600,000]
[2015-07-01 12:21:31,541][FINEST][784][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,891,215, duration=600,000]
[2015-07-01 12:21:31,541][ FINER][784][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000002
[2015-07-01 12:21:31,541][ FINER][784][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,005]
[2015-07-01 12:21:31,542][FINEST][784][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:21:31,542][ FINER][784][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:31,542][ FINER][784][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:31,542][ FINER][784][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,005]
[2015-07-01 12:21:31,543][ FINER][784][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:31,544][FINEST][784][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=784]
[2015-07-01 12:21:31,544][FINEST][784][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=784]
[2015-07-01 12:21:31,545][FINEST][784][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.449]
[2015-07-01 12:21:31,545][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:21:31,546][FINEST][784][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=43458920, actionId=-849487976]
[2015-07-01 12:21:31,550][FINEST][784][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.01]
[2015-07-01 12:21:31,551][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-07-01 12:21:31,552][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-07-01 12:21:31,555][FINEST][784][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=322.212]
[2015-07-01 12:21:31,556][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-07-01 12:21:31,557][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMTC]
[2015-07-01 12:21:31,558][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveInitial]
[2015-07-01 12:21:31,559][FINEST][784][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMTCInitial]
[2015-07-01 12:21:31,560][  INFO][784][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5069500000, responseCode=OK, reservationId=R43458920T1435754011540@18271274421416~-8153429688683410279, lastSegment=false, grantedTime=600000, accounts=[]] [326ms]
[2015-07-01 12:21:32,802][  INFO][797][                     TraceInterceptorImpl.invoke()] update(SessionUpdateReservationRequest [header=[sessionId=5069500000, sessionBeginTimeStamp=Wed Jul 01 12:21:30 UTC 2015, chargingType=REGULAR], reservationId=R43458920T1435754011540@18271274421416~-8153429688683410279, trafficType=MTC, imsi=530052041010000, subscriberId=43458920, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], bearerType=Voice, startTime=Wed Jul 01 12:21:32 UTC 2015, duration=0, location=64278, roaming=false, referenceNumber=0001ABFF0E])
[2015-07-01 12:21:33,005][FINEST][797][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:21:33,005][FINEST][797][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:21:33,006][FINEST][797][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:21:33,007][FINEST][797][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-07-01 12:21:33,293][  FINE][797][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-07-01 12:21:33,298][FINEST][797][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.152]
[2015-07-01 12:21:33,299][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:21:33,300][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:21:33,301][FINEST][797][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:21:33,301][ FINER][797][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/mtc
[2015-07-01 12:21:33,302][FINEST][797][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=43,458,920, reservation=InternalReservationImpl{id='R43458920T1435754013302@18273036426695~-407278138943003534', subscriberId=43458920, expires=1435754013302, reservedAt=1435753293302, reservation=[]}]
[2015-07-01 12:21:33,302][FINEST][797][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,292,071, duration=600,000]
[2015-07-01 12:21:33,303][FINEST][797][                             SessionRater.<init>()] Initialized session rater [subscriberId=43,458,920, offset=1,435,753,892,071, duration=600,000]
[2015-07-01 12:21:33,303][ FINER][797][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000002
[2015-07-01 12:21:33,304][ FINER][797][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,005]
[2015-07-01 12:21:33,304][FINEST][797][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-07-01 12:21:33,304][ FINER][797][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:33,304][ FINER][797][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:33,305][ FINER][797][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,005]
[2015-07-01 12:21:33,305][ FINER][797][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-07-01 12:21:33,306][FINEST][797][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=797]
[2015-07-01 12:21:33,307][FINEST][797][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=797]
[2015-07-01 12:21:33,307][FINEST][797][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.504]
[2015-07-01 12:21:33,308][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-07-01 12:21:33,308][FINEST][797][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=43458920, actionId=-1541897868]
[2015-07-01 12:21:33,313][FINEST][797][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.531]
[2015-07-01 12:21:33,314][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-07-01 12:21:33,315][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-07-01 12:21:33,319][FINEST][797][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=update execTime=515.982]
[2015-07-01 12:21:33,319][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Update]
[2015-07-01 12:21:33,320][FINEST][797][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=UpdateMTC]
[2015-07-01 12:21:33,321][  INFO][797][                     TraceInterceptorImpl.invoke()] update(...): SessionReservationResponse [sessionId=5069500000, responseCode=OK, reservationId=R43458920T1435754013302@18273036426695~-407278138943003534, lastSegment=false, grantedTime=600000, accounts=[]] [518ms]
[2015-07-01 12:21:33,822][  INFO][804][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5069500000, sessionBeginTimeStamp=Wed Jul 01 12:21:30 UTC 2015, chargingType=REGULAR], reservationId=R43458920T1435754013302@18273036426695~-407278138943003534, finalCommit=true, usedTime=36000])
[2015-07-01 12:21:33,827][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=3.763]
[2015-07-01 12:21:33,828][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-07-01 12:21:33,828][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-07-01 12:21:33,829][  FINE][804][                SessionCommitClosure.withContext()] try to commit reservation: R43458920T1435754013302@18273036426695~-407278138943003534
[2015-07-01 12:21:34,059][FINEST][804][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:21:34,060][FINEST][804][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:21:34,060][FINEST][804][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:21:34,062][FINEST][804][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=804]
[2015-07-01 12:21:34,065][FINEST][804][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=804]
[2015-07-01 12:21:34,065][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.946]
[2015-07-01 12:21:34,066][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:21:34,066][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.91]
[2015-07-01 12:21:34,066][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-07-01 12:21:34,067][ FINER][804][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=43,458,921, subscriberId=43,458,920]
[2015-07-01 12:21:34,067][FINEST][804][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=43,458,920]
[2015-07-01 12:21:34,067][FINEST][804][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=804]
[2015-07-01 12:21:34,070][FINEST][804][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=804]
[2015-07-01 12:21:34,070][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.003]
[2015-07-01 12:21:34,071][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-07-01 12:21:34,071][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.918]
[2015-07-01 12:21:34,071][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-07-01 12:21:34,072][FINEST][804][                SessionCommitClosure.withContext()] Session is free, do not charge reservation, charge 0 on main account [reservationId=R43458920T1435754013302@18273036426695~-407278138943003534 subscriberId=43,458,920 accountId=43,458,921 currency=NZD]
[2015-07-01 12:21:34,072][FINEST][804][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-07-01 12:21:34,073][FINEST][804][                       SessionTicketImpl.newPart()] added part, parts: [[TicketPartImpl duration=0 segments=null data=0]]
[2015-07-01 12:21:34,073][FINEST][804][                   SessionTicketImpl.finalCommit()] About to write final tickets, segments are: [(SessionSegment [duration=0, feature=15, charges=null, count=1, transferredData=0, ratingGroup=0])]
[2015-07-01 12:21:34,078][ FINER][1265][                          TicketSenderImpl$1.run()] Sending ticket to inew-cs.crce.cdr: 5.3|101|true|1|CRCE|CDR|crce01.tb13|2015-07-01T12:21:34.073+0000|2015-07-01T12:21:30.000+0000|5069500000|1|1|43458920|642041010000|PREPAID|ACTIVE||1|NONE|OK||1.2|FinalCommit|BasicSession|1|530052041010000|642041010000|false|642041010000|(network) bumblebee|Local (on-net)|Terminating||0||Voice|false|64278|(network) TNZ #8|2015-07-01T12:21:32.000+0000|0|36000|60000|0|0|0001ABFF0E|false|101001|15730641|101001|0|0|NZD|10000000|PREPAID|OK||
[2015-07-01 12:21:34,079][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=deleteContext execTime=1.235]
[2015-07-01 12:21:34,080][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Delete]
[2015-07-01 12:21:34,082][FINEST][804][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=259.745]
[2015-07-01 12:21:34,083][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-07-01 12:21:34,083][FINEST][804][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=CommitFinal]
[2015-07-01 12:21:34,084][  INFO][804][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5069500000, sessionBeginTimeStamp=Wed Jul 01 12:21:30 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R43458920T1435754013302@18273036426695~-407278138943003534, accounts=[[accountId=43458921, amount=0, unitId=270]]] [261ms]
[2015-07-01 12:21:34,170][FINEST][101][     SubscriberPeerImpl.getSubscriberProfileById()] Reading subscriber profile by ID [subscriberId=43,458,920]
[2015-07-01 12:21:34,297][FINEST][101][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=43,458,920]
[2015-07-01 12:21:34,297][FINEST][101][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=43,458,920, msisdn=642041010000]
[2015-07-01 12:21:34,297][FINEST][101][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=43,458,920]
[2015-07-01 12:21:34,299][FINEST][101][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=43,458,920 msisdn=642041010000 imsi=530052041010000]
[2015-07-01 12:21:38,788][FINEST][764][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@5edc73cb, com.tryge.negret.profiler.services.ProviderType@5b364514, com.tryge.negret.profiler.services.ProviderType@47f152d4]