[2015-06-30 09:53:54,629][FINEST][275][   SubscriberPeerImpl.getSubscriberProfileByImsi()] Reading subscriber profile by IMSI [imsi=530052041010000]
[2015-06-30 09:53:54,804][FINEST][275][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:54,804][FINEST][275][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:54,804][FINEST][275][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:54,806][FINEST][275][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]
[2015-06-30 09:53:54,832][  INFO][278][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], trafficType=MOC, imsi=530052041010000, subscriberId=42539077, suppressNumber=false, startTime=Tue Jun 30 09:53:54 UTC 2015, duration=0, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-06-30 09:53:54,916][FINEST][278][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:54,916][FINEST][278][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:54,916][FINEST][278][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:54,917][FINEST][278][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:53:55,067][  FINE][278][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:53:55,074][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=create execTime=5.843]
[2015-06-30 09:53:55,075][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2015-06-30 09:53:55,075][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=CreateSession]
[2015-06-30 09:53:55,079][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=2.483]
[2015-06-30 09:53:55,079][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:53:55,080][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:53:55,081][FINEST][278][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:53:55,081][ FINER][278][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:53:55,081][FINEST][278][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658335081@16922226053408351~-8157972946390078563', subscriberId=42539077, expires=1435658335081, reservedAt=1435658035081, reservation=[]}]
[2015-06-30 09:53:55,082][FINEST][278][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,034,816, duration=60,000]
[2015-06-30 09:53:55,082][FINEST][278][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,094,816, duration=60,000]
[2015-06-30 09:53:55,083][ FINER][278][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:53:55,083][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:55,083][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:55,083][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:55,083][FINEST][278][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:55,083][ FINER][278][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:55,084][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=1902356294]
[2015-06-30 09:53:55,084][FINEST][278][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=278]
[2015-06-30 09:53:55,087][FINEST][278][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=278]
[2015-06-30 09:53:55,087][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.896]
[2015-06-30 09:53:55,087][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:55,087][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.65]
[2015-06-30 09:53:55,088][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:53:55,088][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:55,088][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:55,088][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:55,088][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:55,089][ FINER][278][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:55,089][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,089][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:55,089][ FINER][278][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:53:55,089][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:55,090][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:55,090][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:55,090][FINEST][278][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:55,090][ FINER][278][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:55,090][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,090][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:55,091][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:55,091][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:55,091][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:55,091][ FINER][278][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:55,091][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,091][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:55,092][ FINER][278][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:53:55,092][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:55,092][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:55,092][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:55,092][FINEST][278][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:55,092][ FINER][278][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:55,092][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,093][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:55,093][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:55,093][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:55,093][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:55,093][ FINER][278][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:55,093][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,094][ FINER][278][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:55,094][ FINER][278][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:53:55,094][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:55,094][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:55,094][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:55,094][FINEST][278][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:55,095][ FINER][278][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:55,095][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,095][ FINER][278][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:53:55,095][FINEST][278][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:53:55,096][FINEST][278][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=278]
[2015-06-30 09:53:55,097][FINEST][278][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=278]
[2015-06-30 09:53:55,098][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.18]
[2015-06-30 09:53:55,098][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:55,098][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=2.864]
[2015-06-30 09:53:55,098][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:53:55,099][FINEST][278][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:53:55,099][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,099][FINEST][278][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:55,099][ FINER][278][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:55,099][FINEST][278][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:55,100][ FINER][278][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:55,100][ FINER][278][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:55,100][FINEST][278][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,100][FINEST][278][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:55,101][FINEST][278][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=278]
[2015-06-30 09:53:55,102][FINEST][278][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=278]
[2015-06-30 09:53:55,102][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.024]
[2015-06-30 09:53:55,102][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:55,103][ FINER][278][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, subscriberId=42,539,077, reservation=[20000@42539078[270]]
[2015-06-30 09:53:55,103][FINEST][278][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=278]
[2015-06-30 09:53:55,108][FINEST][278][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=278]
[2015-06-30 09:53:55,108][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=4.943]
[2015-06-30 09:53:55,108][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:55,108][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=5.598]
[2015-06-30 09:53:55,109][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2015-06-30 09:53:55,109][FINEST][278][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1902356294]
[2015-06-30 09:53:55,115][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=5.188]
[2015-06-30 09:53:55,115][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:53:55,116][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:53:55,120][FINEST][278][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=287.748]
[2015-06-30 09:53:55,120][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-06-30 09:53:55,121][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOC]
[2015-06-30 09:53:55,122][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveInitial]
[2015-06-30 09:53:55,122][FINEST][278][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOCInitial]
[2015-06-30 09:53:55,123][  INFO][278][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5065600000, responseCode=OK, reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, lastSegment=false, grantedTime=60000, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [291ms]
[2015-06-30 09:53:56,252][  INFO][279][                     TraceInterceptorImpl.invoke()] update(SessionUpdateReservationRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, trafficType=MOC, imsi=530052041010000, subscriberId=42539077, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], bearerType=Voice, startTime=Tue Jun 30 09:53:56 UTC 2015, duration=0, location=64278, roaming=false, referenceNumber=0001ABFF0E])
[2015-06-30 09:53:56,335][FINEST][279][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:56,335][FINEST][279][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:56,335][FINEST][279][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:56,337][FINEST][279][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:53:56,495][  FINE][279][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:53:56,500][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.208]
[2015-06-30 09:53:56,501][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:53:56,501][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:53:56,502][FINEST][279][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:53:56,502][ FINER][279][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:53:56,502][FINEST][279][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:53:56,503][FINEST][279][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=279]
[2015-06-30 09:53:56,505][FINEST][279][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=279]
[2015-06-30 09:53:56,505][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.765]
[2015-06-30 09:53:56,506][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:56,506][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.465]
[2015-06-30 09:53:56,506][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:53:56,507][FINEST][279][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:53:56,507][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=-1509724528]
[2015-06-30 09:53:56,508][FINEST][279][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=279]
[2015-06-30 09:53:56,510][FINEST][279][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=279]
[2015-06-30 09:53:56,510][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.518]
[2015-06-30 09:53:56,510][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:56,510][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.24]
[2015-06-30 09:53:56,511][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:53:56,511][ FINER][279][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:53:56,511][FINEST][279][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:53:56,512][FINEST][279][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,036,020, duration=60,000]
[2015-06-30 09:53:56,512][FINEST][279][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,096,020, duration=60,000]
[2015-06-30 09:53:56,512][ FINER][279][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:53:56,512][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:56,513][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:56,513][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:56,513][FINEST][279][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:56,513][ FINER][279][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:56,513][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,514][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:56,514][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:56,514][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:56,514][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:56,514][ FINER][279][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:56,514][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,515][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:56,515][ FINER][279][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:53:56,515][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:56,515][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:56,515][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:56,515][FINEST][279][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:56,516][ FINER][279][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:56,516][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,516][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:56,516][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:56,516][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:56,517][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:56,517][ FINER][279][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:56,517][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,517][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:56,517][ FINER][279][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:53:56,518][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:56,518][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:56,518][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:56,518][FINEST][279][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:56,518][ FINER][279][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:56,518][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,519][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:56,519][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:56,519][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:56,519][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:56,519][ FINER][279][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:56,519][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,520][ FINER][279][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:56,520][ FINER][279][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:53:56,520][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:56,520][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:56,520][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:56,520][FINEST][279][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:56,521][ FINER][279][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:56,521][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,521][  FINE][279][                      SpecialChargeAction.charge()] accountId=42,539,078 amount=20,000 proposal=true
[2015-06-30 09:53:56,521][FINEST][279][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:56,522][ FINER][279][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:56,522][FINEST][279][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:56,522][ FINER][279][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:56,522][ FINER][279][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:56,522][FINEST][279][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,523][FINEST][279][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:56,523][FINEST][279][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=279]
[2015-06-30 09:53:56,524][FINEST][279][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=279]
[2015-06-30 09:53:56,524][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.953]
[2015-06-30 09:53:56,524][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:56,524][FINEST][279][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=-1509724528]
[2015-06-30 09:53:56,530][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=5.266]
[2015-06-30 09:53:56,531][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:53:56,532][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:53:56,535][FINEST][279][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=update execTime=281.818]
[2015-06-30 09:53:56,535][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Update]
[2015-06-30 09:53:56,535][FINEST][279][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=UpdateMOC]
[2015-06-30 09:53:56,536][  INFO][279][                     TraceInterceptorImpl.invoke()] update(...): SessionReservationResponse [sessionId=5065600000, responseCode=OK, reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, lastSegment=false, grantedTime=60000, accounts=[]] [283ms]
[2015-06-30 09:53:57,413][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@52d5ca80, com.tryge.negret.profiler.services.ProviderType@51e1c3fc, com.tryge.negret.profiler.services.ProviderType@3d09ff63]
[2015-06-30 09:54:42,398][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@54382132, com.tryge.negret.profiler.services.ProviderType@310b84d0, com.tryge.negret.profiler.services.ProviderType@6b3c8cd7]
[2015-06-30 09:54:56,289][  INFO][282][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, finalCommit=false, usedTime=60000])
[2015-06-30 09:54:56,294][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.744]
[2015-06-30 09:54:56,295][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:54:56,296][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:54:56,296][  FINE][282][                SessionCommitClosure.withContext()] try to commit reservation: R42539077T1435658335081@16922226053408351~-8157972946390078563
[2015-06-30 09:54:56,450][FINEST][282][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:54:56,450][FINEST][282][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:54:56,450][FINEST][282][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:54:56,451][FINEST][282][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:54:56,451][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,453][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,454][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.609]
[2015-06-30 09:54:56,454][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:54:56,454][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.063]
[2015-06-30 09:54:56,454][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:54:56,454][FINEST][282][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=42,539,077, reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, tuples=[20000@42539078[270]]]
[2015-06-30 09:54:56,454][FINEST][282][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:54:56,455][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=1585093954]
[2015-06-30 09:54:56,455][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,457][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,457][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.242]
[2015-06-30 09:54:56,457][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:54:56,457][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=2.697]
[2015-06-30 09:54:56,457][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:54:56,458][ FINER][282][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:54:56,458][FINEST][282][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:54:56,458][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,459][FINEST][282][                            AccountDaoImpl.flush()] Flushing account [id=42,539,078, balance=9,980,000]
[2015-06-30 09:54:56,461][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=2.694]
[2015-06-30 09:54:56,461][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2015-06-30 09:54:56,462][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.049]
[2015-06-30 09:54:56,462][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:54:56,464][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,464][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.777]
[2015-06-30 09:54:56,464][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:54:56,464][ FINER][282][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563]
[2015-06-30 09:54:56,465][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,467][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,467][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.825]
[2015-06-30 09:54:56,468][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:54:56,468][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=3.237]
[2015-06-30 09:54:56,468][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2015-06-30 09:54:56,468][FINEST][282][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1585093954]
[2015-06-30 09:54:56,468][  FINE][ 48][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=42539077, timestamp=1435658096468, transactionId=ef3875bc-5c22-4c5e-9fdf-1429743a3550]
[2015-06-30 09:54:56,468][FINEST][282][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:54:56,469][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2015-06-30 09:54:56,469][FINEST][282][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:54:56,469][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2015-06-30 09:54:56,469][  FINE][ 48][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 42,539,078
[2015-06-30 09:54:56,469][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2015-06-30 09:54:56,470][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2015-06-30 09:54:56,470][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=42539077, remainingBalance=9980000]
[2015-06-30 09:54:56,470][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=42539077]
[2015-06-30 09:54:56,470][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountExpiryNotificationListener
[2015-06-30 09:54:56,470][  INFO][ 48][AccountExpiryNotificationListener.isMainTopupOrChangedExpiry()] Balance or expiry changed evaluation result [isTopup=false, changedExpiry=false]
[2015-06-30 09:54:56,470][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2015-06-30 09:54:56,470][FINEST][ 48][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=42539077]
[2015-06-30 09:54:56,471][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_20_percent, currencyId=101,004]
[2015-06-30 09:54:56,471][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_used, currencyId=101,004]
[2015-06-30 09:54:56,471][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_20_percent, currencyId=101,003]
[2015-06-30 09:54:56,471][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_used, currencyId=101,003]
[2015-06-30 09:54:56,472][FINEST][ 48][                  AccountQuotaEvaluator.evaluate()] Notification conditions not met [subscriberId=42,539,077, notification=low_credit_05]
[2015-06-30 09:54:56,472][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_used, currencyGroup=DATA]
[2015-06-30 09:54:56,472][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_20_percent, currencyId=101,000]
[2015-06-30 09:54:56,473][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=3.611]
[2015-06-30 09:54:56,473][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=rollover_data_quota_20mb, currencyId=101,006]
[2015-06-30 09:54:56,473][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_20mb, currencyId=4]
[2015-06-30 09:54:56,473][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:54:56,474][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_used, currencyId=6]
[2015-06-30 09:54:56,474][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:54:56,474][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_20_percent, currencyId=6]
[2015-06-30 09:54:56,474][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_20_percent, currencyId=2]
[2015-06-30 09:54:56,475][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_used, currencyId=2]
[2015-06-30 09:54:56,475][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_used, currencyId=3]
[2015-06-30 09:54:56,475][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_used, currencyId=101,000]
[2015-06-30 09:54:56,476][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_20_percent, currencyId=3]
[2015-06-30 09:54:56,476][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2015-06-30 09:54:56,477][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=187.522]
[2015-06-30 09:54:56,477][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-06-30 09:54:56,477][  INFO][282][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R42539077T1435658335081@16922226053408351~-8157972946390078563, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [187ms]
[2015-06-30 09:54:56,477][  INFO][282][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], trafficType=MOC, imsi=530052041010000, subscriberId=42539077, suppressNumber=false, startTime=Tue Jun 30 09:53:56 UTC 2015, duration=60000, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-06-30 09:54:56,627][FINEST][282][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:54:56,627][FINEST][282][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:54:56,629][FINEST][282][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:54:56,629][FINEST][282][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:54:56,901][  FINE][282][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:54:56,906][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.563]
[2015-06-30 09:54:56,907][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:54:56,907][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:54:56,908][FINEST][282][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:54:56,908][ FINER][282][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:54:56,909][FINEST][282][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658216909@16922287880896056~-4910470396583759783', subscriberId=42539077, expires=1435658216909, reservedAt=1435658096909, reservation=[]}]
[2015-06-30 09:54:56,909][FINEST][282][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,096,020, duration=60,000]
[2015-06-30 09:54:56,910][FINEST][282][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,156,020, duration=60,000]
[2015-06-30 09:54:56,910][ FINER][282][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:54:56,910][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:54:56,910][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:54:56,910][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:54:56,911][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:54:56,911][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=-701567938]
[2015-06-30 09:54:56,912][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,914][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,915][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.412]
[2015-06-30 09:54:56,915][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:54:56,915][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=4.177]
[2015-06-30 09:54:56,915][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:54:56,916][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:54:56,916][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:54:56,916][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:54:56,916][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:54:56,917][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:54:56,917][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,917][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:54:56,917][ FINER][282][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:54:56,917][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:54:56,917][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:54:56,918][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:54:56,918][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:54:56,918][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,918][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:54:56,918][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:54:56,919][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:54:56,919][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:54:56,919][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:54:56,919][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,919][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:54:56,919][ FINER][282][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:54:56,920][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:54:56,920][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:54:56,920][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:54:56,920][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:54:56,920][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,921][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:54:56,921][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:54:56,921][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:54:56,921][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:54:56,921][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:54:56,921][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,922][ FINER][282][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:54:56,922][ FINER][282][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:54:56,922][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:54:56,922][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:54:56,922][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:54:56,922][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:54:56,922][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,923][ FINER][282][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:54:56,923][FINEST][282][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:54:56,923][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,925][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,926][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.636]
[2015-06-30 09:54:56,926][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:54:56,926][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.319]
[2015-06-30 09:54:56,926][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:54:56,927][FINEST][282][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:54:56,927][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,927][FINEST][282][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:54:56,927][ FINER][282][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:54:56,928][FINEST][282][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:54:56,928][ FINER][282][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:54:56,928][ FINER][282][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:54:56,928][FINEST][282][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,928][FINEST][282][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:54:56,929][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,930][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,930][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.812]
[2015-06-30 09:54:56,930][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:54:56,930][ FINER][282][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783, subscriberId=42,539,077, reservation=[20000@42539078[270]]
[2015-06-30 09:54:56,931][FINEST][282][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=282]
[2015-06-30 09:54:56,936][FINEST][282][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=282]
[2015-06-30 09:54:56,936][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.256]
[2015-06-30 09:54:56,936][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:54:56,936][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=5.913]
[2015-06-30 09:54:56,937][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2015-06-30 09:54:56,937][FINEST][282][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=-701567938]
[2015-06-30 09:54:56,945][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=6.993]
[2015-06-30 09:54:56,945][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:54:56,946][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:54:56,950][FINEST][282][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=472.003]
[2015-06-30 09:54:56,950][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-06-30 09:54:56,950][FINEST][282][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOC]
[2015-06-30 09:54:56,952][  INFO][282][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5065600000, responseCode=OK, reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783, lastSegment=false, grantedTime=60000, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [474ms]
[2015-06-30 09:54:57,413][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@48506f37, com.tryge.negret.profiler.services.ProviderType@18b5a8f8, com.tryge.negret.profiler.services.ProviderType@3e683e74]
[2015-06-30 09:55:05,485][SEVERE][121][                    DatabaseContextSharing.clean()] unexpected exception during cleanup: 
java.lang.RuntimeException: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 241
	at com.inewcs.crce.contextsharing.db.dialect.Utils.deserializeString(Utils.java:141)
	at com.inewcs.crce.contextsharing.db.dialect.AbstractDbDialect.createContextFromResultSet(AbstractDbDialect.java:183)
	at com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing.clean(DatabaseContextSharing.java:450)
	at com.tryge.negret.proc.impl.CleanerImpl$1$1.run(CleanerImpl.java:70)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.Thread.run(Thread.java:722)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 241
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:93)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:172)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:93)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:172)
	at com.google.gson.Gson.fromJson(Gson.java:795)
	at com.google.gson.Gson.fromJson(Gson.java:761)
	at com.google.gson.Gson.fromJson(Gson.java:710)
	at com.google.gson.Gson.fromJson(Gson.java:682)
	at com.inewcs.crce.contextsharing.db.dialect.Utils.deserializeString(Utils.java:137)
	... 6 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 241
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:339)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:322)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165)
	... 15 more
[2015-06-30 09:55:12,617][FINEST][384][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@1656dfd5, com.tryge.negret.profiler.services.ProviderType@21812468, com.tryge.negret.profiler.services.ProviderType@257d3907]
[2015-06-30 09:55:42,398][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@786d2fa5, com.tryge.negret.profiler.services.ProviderType@48533767, com.tryge.negret.profiler.services.ProviderType@4f5a7049]
[2015-06-30 09:55:57,128][  INFO][283][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783, finalCommit=false, usedTime=120000])
[2015-06-30 09:55:57,135][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=5.736]
[2015-06-30 09:55:57,135][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:55:57,136][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:55:57,137][  FINE][283][                SessionCommitClosure.withContext()] try to commit reservation: R42539077T1435658216909@16922287880896056~-4910470396583759783
[2015-06-30 09:55:57,225][FINEST][283][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:55:57,225][FINEST][283][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:55:57,225][FINEST][283][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:55:57,226][FINEST][283][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:55:57,227][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,229][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,229][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.577]
[2015-06-30 09:55:57,230][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:55:57,230][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.318]
[2015-06-30 09:55:57,230][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:55:57,231][FINEST][283][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=42,539,077, reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783, tuples=[20000@42539078[270]]]
[2015-06-30 09:55:57,231][FINEST][283][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:55:57,231][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=1319611039]
[2015-06-30 09:55:57,232][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,234][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,234][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.476]
[2015-06-30 09:55:57,234][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:55:57,235][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.126]
[2015-06-30 09:55:57,235][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:55:57,235][ FINER][283][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:55:57,235][FINEST][283][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:55:57,236][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,236][FINEST][283][                            AccountDaoImpl.flush()] Flushing account [id=42,539,078, balance=9,960,000]
[2015-06-30 09:55:57,238][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.48]
[2015-06-30 09:55:57,238][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2015-06-30 09:55:57,238][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=1.963]
[2015-06-30 09:55:57,239][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:55:57,241][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,242][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.822]
[2015-06-30 09:55:57,242][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:55:57,242][ FINER][283][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783]
[2015-06-30 09:55:57,243][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,245][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,246][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.219]
[2015-06-30 09:55:57,246][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:55:57,246][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=3.897]
[2015-06-30 09:55:57,246][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2015-06-30 09:55:57,247][FINEST][283][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1319611039]
[2015-06-30 09:55:57,247][  FINE][ 48][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=42539077, timestamp=1435658157247, transactionId=9937071a-66ec-477a-ad31-9e67c0772d05]
[2015-06-30 09:55:57,247][FINEST][283][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:55:57,247][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2015-06-30 09:55:57,247][FINEST][283][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:55:57,247][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2015-06-30 09:55:57,248][  FINE][ 48][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 42,539,078
[2015-06-30 09:55:57,248][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2015-06-30 09:55:57,248][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2015-06-30 09:55:57,248][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=42539077, remainingBalance=9960000]
[2015-06-30 09:55:57,248][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=42539077]
[2015-06-30 09:55:57,249][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountExpiryNotificationListener
[2015-06-30 09:55:57,249][  INFO][ 48][AccountExpiryNotificationListener.isMainTopupOrChangedExpiry()] Balance or expiry changed evaluation result [isTopup=false, changedExpiry=false]
[2015-06-30 09:55:57,249][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2015-06-30 09:55:57,249][FINEST][ 48][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=42539077]
[2015-06-30 09:55:57,249][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_20_percent, currencyId=101,004]
[2015-06-30 09:55:57,249][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_used, currencyId=101,004]
[2015-06-30 09:55:57,249][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_20_percent, currencyId=101,003]
[2015-06-30 09:55:57,249][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_used, currencyId=101,003]
[2015-06-30 09:55:57,250][FINEST][ 48][                  AccountQuotaEvaluator.evaluate()] Notification conditions not met [subscriberId=42,539,077, notification=low_credit_05]
[2015-06-30 09:55:57,250][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_used, currencyGroup=DATA]
[2015-06-30 09:55:57,250][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_20_percent, currencyId=101,000]
[2015-06-30 09:55:57,250][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=rollover_data_quota_20mb, currencyId=101,006]
[2015-06-30 09:55:57,250][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_20mb, currencyId=4]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_used, currencyId=6]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_20_percent, currencyId=6]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_20_percent, currencyId=2]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_used, currencyId=2]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_used, currencyId=3]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_used, currencyId=101,000]
[2015-06-30 09:55:57,251][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_20_percent, currencyId=3]
[2015-06-30 09:55:57,252][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2015-06-30 09:55:57,263][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=14.928]
[2015-06-30 09:55:57,264][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:55:57,264][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:55:57,267][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=138.082]
[2015-06-30 09:55:57,267][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-06-30 09:55:57,267][  INFO][283][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R42539077T1435658216909@16922287880896056~-4910470396583759783, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [138ms]
[2015-06-30 09:55:57,268][  INFO][283][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], trafficType=MOC, imsi=530052041010000, subscriberId=42539077, suppressNumber=false, startTime=Tue Jun 30 09:53:56 UTC 2015, duration=120000, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-06-30 09:55:57,365][FINEST][283][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:55:57,365][FINEST][283][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:55:57,365][FINEST][283][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:55:57,366][FINEST][283][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:55:57,413][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@28cb0d97, com.tryge.negret.profiler.services.ProviderType@2ae9496d, com.tryge.negret.profiler.services.ProviderType@39d3a91d]
[2015-06-30 09:55:57,549][  FINE][283][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:55:57,555][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=5.25]
[2015-06-30 09:55:57,555][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:55:57,556][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:55:57,557][FINEST][283][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:55:57,557][ FINER][283][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:55:57,557][FINEST][283][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658277557@16922348529382806~-4704609700479659567', subscriberId=42539077, expires=1435658277557, reservedAt=1435658157557, reservation=[]}]
[2015-06-30 09:55:57,558][FINEST][283][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,156,020, duration=60,000]
[2015-06-30 09:55:57,558][FINEST][283][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,216,020, duration=60,000]
[2015-06-30 09:55:57,559][ FINER][283][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:55:57,559][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:55:57,559][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:55:57,559][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:55:57,559][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:55:57,559][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=1412266327]
[2015-06-30 09:55:57,560][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,562][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,563][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.924]
[2015-06-30 09:55:57,563][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:55:57,563][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.693]
[2015-06-30 09:55:57,563][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:55:57,564][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:55:57,564][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:55:57,564][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:55:57,564][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:55:57,564][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:55:57,565][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,565][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:55:57,565][ FINER][283][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:55:57,565][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:55:57,565][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:55:57,565][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:55:57,566][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:55:57,566][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,566][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:55:57,566][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:55:57,566][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:55:57,566][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:55:57,567][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:55:57,567][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,567][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:55:57,567][ FINER][283][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:55:57,567][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:55:57,567][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:55:57,568][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:55:57,568][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:55:57,568][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,568][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:55:57,568][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:55:57,568][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:55:57,569][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:55:57,569][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:55:57,569][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,569][ FINER][283][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:55:57,569][ FINER][283][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:55:57,570][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:55:57,570][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:55:57,570][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:55:57,570][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:55:57,570][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,571][ FINER][283][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:55:57,571][FINEST][283][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:55:57,571][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,573][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,574][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.206]
[2015-06-30 09:55:57,574][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:55:57,574][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=2.896]
[2015-06-30 09:55:57,574][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:55:57,575][FINEST][283][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:55:57,575][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,575][FINEST][283][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:55:57,575][ FINER][283][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:55:57,575][FINEST][283][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:55:57,575][ FINER][283][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:55:57,576][ FINER][283][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:55:57,576][FINEST][283][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,576][FINEST][283][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:55:57,577][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,577][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,578][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.813]
[2015-06-30 09:55:57,578][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:55:57,578][ FINER][283][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567, subscriberId=42,539,077, reservation=[20000@42539078[270]]
[2015-06-30 09:55:57,579][FINEST][283][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=283]
[2015-06-30 09:55:57,583][FINEST][283][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=283]
[2015-06-30 09:55:57,583][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=4.68]
[2015-06-30 09:55:57,583][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:55:57,584][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=5.349]
[2015-06-30 09:55:57,584][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2015-06-30 09:55:57,584][FINEST][283][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1412266327]
[2015-06-30 09:55:57,603][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=18.535]
[2015-06-30 09:55:57,604][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:55:57,605][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:55:57,607][FINEST][283][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=339.054]
[2015-06-30 09:55:57,607][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-06-30 09:55:57,608][FINEST][283][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOC]
[2015-06-30 09:55:57,610][  INFO][283][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5065600000, responseCode=OK, reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567, lastSegment=false, grantedTime=60000, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [341ms]
[2015-06-30 09:56:13,782][  INFO][284][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567, finalCommit=true, usedTime=136000])
[2015-06-30 09:56:13,789][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=6.445]
[2015-06-30 09:56:13,790][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:56:13,791][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:56:13,792][  FINE][284][                SessionCommitClosure.withContext()] try to commit reservation: R42539077T1435658277557@16922348529382806~-4704609700479659567
[2015-06-30 09:56:13,946][FINEST][284][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:13,946][FINEST][284][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:13,946][FINEST][284][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:13,948][FINEST][284][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:56:13,948][FINEST][284][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=284]
[2015-06-30 09:56:13,951][FINEST][284][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=284]
[2015-06-30 09:56:13,951][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.099]
[2015-06-30 09:56:13,951][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:56:13,952][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.895]
[2015-06-30 09:56:13,952][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:56:13,953][FINEST][284][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=42,539,077, reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567, tuples=[20000@42539078[270]]]
[2015-06-30 09:56:13,953][FINEST][284][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:56:13,953][FINEST][284][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=548328551]
[2015-06-30 09:56:13,953][FINEST][284][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=284]
[2015-06-30 09:56:13,956][FINEST][284][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=284]
[2015-06-30 09:56:13,956][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.036]
[2015-06-30 09:56:13,957][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:56:13,957][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.705]
[2015-06-30 09:56:13,957][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:56:13,957][ FINER][284][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:56:13,957][FINEST][284][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:56:13,958][FINEST][284][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=284]
[2015-06-30 09:56:13,959][FINEST][284][                            AccountDaoImpl.flush()] Flushing account [id=42,539,078, balance=9,940,000]
[2015-06-30 09:56:13,961][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.912]
[2015-06-30 09:56:13,961][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2015-06-30 09:56:13,961][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.406]
[2015-06-30 09:56:13,961][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:56:13,964][FINEST][284][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=284]
[2015-06-30 09:56:13,964][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.994]
[2015-06-30 09:56:13,964][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:56:13,965][ FINER][284][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567]
[2015-06-30 09:56:13,965][FINEST][284][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=284]
[2015-06-30 09:56:13,968][FINEST][284][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=284]
[2015-06-30 09:56:13,969][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.699]
[2015-06-30 09:56:13,969][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:56:13,969][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=4.484]
[2015-06-30 09:56:13,970][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2015-06-30 09:56:13,970][FINEST][284][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=548328551]
[2015-06-30 09:56:13,970][  FINE][ 48][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=42539077, timestamp=1435658173970, transactionId=ccbb6c8f-b370-4aeb-aff3-a93bc756cd81]
[2015-06-30 09:56:13,970][FINEST][284][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:56:13,970][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2015-06-30 09:56:13,970][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2015-06-30 09:56:13,971][  FINE][ 48][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 42,539,078
[2015-06-30 09:56:13,971][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2015-06-30 09:56:13,971][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2015-06-30 09:56:13,971][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=42539077, remainingBalance=9940000]
[2015-06-30 09:56:13,971][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=42539077]
[2015-06-30 09:56:13,972][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountExpiryNotificationListener
[2015-06-30 09:56:13,972][  INFO][ 48][AccountExpiryNotificationListener.isMainTopupOrChangedExpiry()] Balance or expiry changed evaluation result [isTopup=false, changedExpiry=false]
[2015-06-30 09:56:13,972][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2015-06-30 09:56:13,972][FINEST][ 48][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=42539077]
[2015-06-30 09:56:13,972][FINEST][284][                       SessionTicketImpl.newPart()] added part, parts: [[TicketPartImpl duration=0 segments=null data=0]]
[2015-06-30 09:56:13,972][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_20_percent, currencyId=101,004]
[2015-06-30 09:56:13,972][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_used, currencyId=101,004]
[2015-06-30 09:56:13,973][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_20_percent, currencyId=101,003]
[2015-06-30 09:56:13,972][FINEST][284][                   SessionTicketImpl.finalCommit()] About to write final tickets, segments are: [(SessionSegment [duration=0, feature=15, charges=null, count=1, transferredData=0, ratingGroup=-2147483648])]
[2015-06-30 09:56:13,973][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_used, currencyId=101,003]
[2015-06-30 09:56:13,974][FINEST][ 48][                  AccountQuotaEvaluator.evaluate()] Notification conditions not met [subscriberId=42,539,077, notification=low_credit_05]
[2015-06-30 09:56:13,974][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_used, currencyGroup=DATA]
[2015-06-30 09:56:13,974][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_20_percent, currencyId=101,000]
[2015-06-30 09:56:13,974][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=rollover_data_quota_20mb, currencyId=101,006]
[2015-06-30 09:56:13,974][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_20mb, currencyId=4]
[2015-06-30 09:56:13,975][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_used, currencyId=6]
[2015-06-30 09:56:13,975][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_20_percent, currencyId=6]
[2015-06-30 09:56:13,975][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_20_percent, currencyId=2]
[2015-06-30 09:56:13,975][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_used, currencyId=2]
[2015-06-30 09:56:13,976][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_used, currencyId=3]
[2015-06-30 09:56:13,976][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_used, currencyId=101,000]
[2015-06-30 09:56:13,976][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_20_percent, currencyId=3]
[2015-06-30 09:56:13,976][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2015-06-30 09:56:13,978][ FINER][367][                          TicketSenderImpl$1.run()] Sending ticket to inew-cs.crce.cdr: 5.3|101|true|1|CRCE|CDR|crce01.tb13|2015-06-30T09:56:13.971+0000|2015-06-30T09:53:54.000+0000|5065600000|1|1|42539077|642041010000|PREPAID|ACTIVE||1|NONE|OK||1.2|FinalCommit|BasicSession|1|530052041010000|642041010000|false|642041010000|(network) bumblebee|Local (on-net)|Originating||||Voice|false|64278|(network) TNZ #8|2015-06-30T09:53:56.000+0000|0|136000|180000|0|0|0001ABFF0E|false|101001|15730641|101001|60000|60000|NZD|9940000|PREPAID|OK||
[2015-06-30 09:56:13,979][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=deleteContext execTime=1.026]
[2015-06-30 09:56:13,979][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Delete]
[2015-06-30 09:56:13,981][FINEST][284][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=198.492]
[2015-06-30 09:56:13,982][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-06-30 09:56:13,982][FINEST][284][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=CommitFinal]
[2015-06-30 09:56:13,982][  INFO][284][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5065600000, sessionBeginTimeStamp=Tue Jun 30 09:53:54 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R42539077T1435658277557@16922348529382806~-4704609700479659567, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [199ms]
[2015-06-30 09:56:14,085][FINEST][389][     SubscriberPeerImpl.getSubscriberProfileById()] Reading subscriber profile by ID [subscriberId=42,539,077]
[2015-06-30 09:56:14,238][FINEST][389][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:14,239][FINEST][389][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:14,239][FINEST][389][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:14,240][FINEST][389][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]