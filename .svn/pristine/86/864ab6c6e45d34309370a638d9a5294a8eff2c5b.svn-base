[2015-06-30 09:53:37,016][FINEST][275][   SubscriberPeerImpl.getSubscriberProfileByImsi()] Reading subscriber profile by IMSI [imsi=530052041010000]
[2015-06-30 09:53:37,262][FINEST][275][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:37,262][FINEST][275][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:37,262][FINEST][275][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:37,265][FINEST][275][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]
[2015-06-30 09:53:37,290][  INFO][221][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5065500000, sessionBeginTimeStamp=Tue Jun 30 09:53:36 UTC 2015, chargingType=REGULAR], trafficType=MOC, imsi=530052041010000, subscriberId=42539077, suppressNumber=false, startTime=Tue Jun 30 09:53:37 UTC 2015, duration=0, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-06-30 09:53:37,449][FINEST][221][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:37,449][FINEST][221][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:37,449][FINEST][221][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:37,451][FINEST][221][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:53:37,718][  FINE][221][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:53:37,728][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=create execTime=9.208]
[2015-06-30 09:53:37,729][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2015-06-30 09:53:37,730][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=CreateSession]
[2015-06-30 09:53:37,733][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=2.454]
[2015-06-30 09:53:37,734][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:53:37,734][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:53:37,735][FINEST][221][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:53:37,735][ FINER][221][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:53:37,736][FINEST][221][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658317736@16922208707794444~-6282667652658867065', subscriberId=42539077, expires=1435658317736, reservedAt=1435658017736, reservation=[]}]
[2015-06-30 09:53:37,736][FINEST][221][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,017,273, duration=60,000]
[2015-06-30 09:53:37,737][FINEST][221][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,077,273, duration=60,000]
[2015-06-30 09:53:37,737][ FINER][221][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:53:37,737][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:37,737][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:37,737][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:37,738][FINEST][221][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:37,738][ FINER][221][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:37,738][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=-1740934403]
[2015-06-30 09:53:37,739][FINEST][221][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=221]
[2015-06-30 09:53:37,741][FINEST][221][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=221]
[2015-06-30 09:53:37,741][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.052]
[2015-06-30 09:53:37,742][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:37,742][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.723]
[2015-06-30 09:53:37,742][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:53:37,742][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:37,743][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:37,743][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:37,743][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:37,743][ FINER][221][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:37,743][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,744][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:37,744][ FINER][221][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:53:37,744][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:37,744][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:37,744][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:37,744][FINEST][221][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:37,744][ FINER][221][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:37,745][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,745][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:37,745][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:37,745][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:37,745][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:37,745][ FINER][221][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:37,746][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,746][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:37,746][ FINER][221][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:53:37,746][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:37,746][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:37,746][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:37,747][FINEST][221][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:37,747][ FINER][221][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:37,747][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,747][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:37,747][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:37,747][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:37,748][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:37,748][ FINER][221][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:37,748][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,748][ FINER][221][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:37,748][ FINER][221][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:53:37,748][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:37,749][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:37,749][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:37,749][FINEST][221][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:37,749][ FINER][221][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:37,749][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,749][ FINER][221][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:53:37,749][FINEST][221][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:53:37,750][FINEST][221][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=221]
[2015-06-30 09:53:37,752][FINEST][221][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=221]
[2015-06-30 09:53:37,752][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.233]
[2015-06-30 09:53:37,752][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:37,753][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=2.902]
[2015-06-30 09:53:37,753][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:53:37,753][FINEST][221][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:53:37,753][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,754][FINEST][221][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:37,754][ FINER][221][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:37,754][FINEST][221][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:37,754][ FINER][221][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:37,754][ FINER][221][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:37,754][FINEST][221][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,755][FINEST][221][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:37,755][FINEST][221][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=221]
[2015-06-30 09:53:37,756][FINEST][221][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=221]
[2015-06-30 09:53:37,756][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.791]
[2015-06-30 09:53:37,756][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:37,757][ FINER][221][                      ReservationStoreImpl.share()] Sharing reservation [reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, subscriberId=42,539,077, reservation=[20000@42539078[270]]
[2015-06-30 09:53:37,757][FINEST][221][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=221]
[2015-06-30 09:53:37,762][FINEST][221][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=221]
[2015-06-30 09:53:37,762][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.233]
[2015-06-30 09:53:37,762][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:37,763][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=save execTime=5.859]
[2015-06-30 09:53:37,763][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=CreateReservation]
[2015-06-30 09:53:37,763][FINEST][221][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=-1740934403]
[2015-06-30 09:53:37,769][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.902]
[2015-06-30 09:53:37,769][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:53:37,770][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:53:37,773][FINEST][221][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=482.038]
[2015-06-30 09:53:37,773][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-06-30 09:53:37,773][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOC]
[2015-06-30 09:53:37,774][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveInitial]
[2015-06-30 09:53:37,775][FINEST][221][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMOCInitial]
[2015-06-30 09:53:37,776][  INFO][221][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5065500000, responseCode=OK, reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, lastSegment=false, grantedTime=60000, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [485ms]
[2015-06-30 09:53:38,925][  INFO][234][                     TraceInterceptorImpl.invoke()] update(SessionUpdateReservationRequest [header=[sessionId=5065500000, sessionBeginTimeStamp=Tue Jun 30 09:53:36 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, trafficType=MOC, imsi=530052041010000, subscriberId=42539077, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], bearerType=Voice, startTime=Tue Jun 30 09:53:38 UTC 2015, duration=0, location=64278, roaming=false, referenceNumber=0001ABFF0E])
[2015-06-30 09:53:39,028][FINEST][234][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:39,029][FINEST][234][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:39,029][FINEST][234][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:39,030][FINEST][234][     LocalNumberPortabilityService.getNumberInfo()] Performing local MNP query [msisdn=642041010000]
[2015-06-30 09:53:39,223][  FINE][234][                       ZonePeerImpl.matchWithMnp()] Number '642041010000' is HPLMN
[2015-06-30 09:53:39,228][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.281]
[2015-06-30 09:53:39,229][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:53:39,229][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:53:39,230][FINEST][234][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:53:39,231][ FINER][234][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/moc
[2015-06-30 09:53:39,231][FINEST][234][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:53:39,231][FINEST][234][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=234]
[2015-06-30 09:53:39,233][FINEST][234][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=234]
[2015-06-30 09:53:39,234][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.592]
[2015-06-30 09:53:39,234][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:39,234][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.293]
[2015-06-30 09:53:39,234][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:53:39,235][FINEST][234][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:53:39,235][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=1488112837]
[2015-06-30 09:53:39,236][FINEST][234][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=234]
[2015-06-30 09:53:39,237][FINEST][234][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=234]
[2015-06-30 09:53:39,238][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.402]
[2015-06-30 09:53:39,238][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:39,238][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.118]
[2015-06-30 09:53:39,238][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:53:39,239][ FINER][234][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:53:39,239][FINEST][234][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:53:39,239][FINEST][234][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,018,088, duration=60,000]
[2015-06-30 09:53:39,240][FINEST][234][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,078,088, duration=60,000]
[2015-06-30 09:53:39,240][ FINER][234][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000032
[2015-06-30 09:53:39,240][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:39,240][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:39,241][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:39,241][FINEST][234][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:39,241][ FINER][234][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:39,241][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,241][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:39,241][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000790
[2015-06-30 09:53:39,242][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,791
[2015-06-30 09:53:39,242][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,791]
[2015-06-30 09:53:39,242][ FINER][234][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:39,242][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,242][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Skinny Mins
[2015-06-30 09:53:39,242][ FINER][234][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000033
[2015-06-30 09:53:39,243][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:39,243][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:39,243][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:39,243][FINEST][234][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:39,243][ FINER][234][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:39,243][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,244][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:39,244][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000798
[2015-06-30 09:53:39,244][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,799
[2015-06-30 09:53:39,244][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,799]
[2015-06-30 09:53:39,244][ FINER][234][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:39,244][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,245][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=Minutes
[2015-06-30 09:53:39,245][ FINER][234][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000034
[2015-06-30 09:53:39,245][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:39,245][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:39,245][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:39,245][FINEST][234][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:39,245][ FINER][234][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:39,246][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,246][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=true, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:39,246][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010000814
[2015-06-30 09:53:39,246][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,000,815
[2015-06-30 09:53:39,246][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,815]
[2015-06-30 09:53:39,246][ FINER][234][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:39,247][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,247][ FINER][234][                               SessionRater.rate()] Failed to charge rating: setup=false, begin=0, duration=0, price=1, perPeriod=60000, currency=NZ and AU Mins
[2015-06-30 09:53:39,247][ FINER][234][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000045
[2015-06-30 09:53:39,247][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:39,247][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:39,247][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:39,248][FINEST][234][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:53:39,248][ FINER][234][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:39,248][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,248][  FINE][234][                      SpecialChargeAction.charge()] accountId=42,539,078 amount=20,000 proposal=true
[2015-06-30 09:53:39,248][FINEST][234][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:39,249][ FINER][234][                  CompiledDestinationFilter.rate()] Executing destination filter: id=1010010001094
[2015-06-30 09:53:39,249][FINEST][234][                  CompiledDestinationFilter.rate()] Destination zone=Zone [id=1, info=(network) bumblebee, name=Local (on-net), numberPrefix=64204] -> next filter: id=1,010,010,001,095
[2015-06-30 09:53:39,249][ FINER][234][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,001,095]
[2015-06-30 09:53:39,249][ FINER][234][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=20000, perPeriod=60000, currency=NZD
[2015-06-30 09:53:39,249][FINEST][234][                AccountStoreImpl.loadDescriptors()] Loading descriptors from cache [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,249][FINEST][234][                          AccountListImpl.charge()] Charging attempt succeeded [requestedCharge=20,000, accountId=42,539,078, available=20,000]
[2015-06-30 09:53:39,250][FINEST][234][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=234]
[2015-06-30 09:53:39,250][FINEST][234][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=234]
[2015-06-30 09:53:39,251][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.845]
[2015-06-30 09:53:39,251][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:39,251][FINEST][234][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1488112837]
[2015-06-30 09:53:39,257][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.899]
[2015-06-30 09:53:39,257][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:53:39,258][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:53:39,260][FINEST][234][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=update execTime=334.601]
[2015-06-30 09:53:39,261][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Update]
[2015-06-30 09:53:39,261][FINEST][234][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=UpdateMOC]
[2015-06-30 09:53:39,262][  INFO][234][                     TraceInterceptorImpl.invoke()] update(...): SessionReservationResponse [sessionId=5065500000, responseCode=OK, reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, lastSegment=false, grantedTime=60000, accounts=[]] [336ms]
[2015-06-30 09:53:39,936][  INFO][277][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5065500000, sessionBeginTimeStamp=Tue Jun 30 09:53:36 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, finalCommit=true, usedTime=1000])
[2015-06-30 09:53:39,941][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=4.427]
[2015-06-30 09:53:39,942][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:53:39,942][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:53:39,943][  FINE][277][                SessionCommitClosure.withContext()] try to commit reservation: R42539077T1435658317736@16922208707794444~-6282667652658867065
[2015-06-30 09:53:40,105][FINEST][277][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:40,106][FINEST][277][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:40,106][FINEST][277][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:40,107][FINEST][277][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:53:40,108][FINEST][277][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=277]
[2015-06-30 09:53:40,110][FINEST][277][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=277]
[2015-06-30 09:53:40,111][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.96]
[2015-06-30 09:53:40,111][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:40,111][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=3.691]
[2015-06-30 09:53:40,111][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:53:40,112][FINEST][277][                     ConsumeAction.commitPartial()] Partially commiting the reservation [subscriberId=42,539,077, reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, tuples=[20000@42539078[270]]]
[2015-06-30 09:53:40,112][FINEST][277][                        AccountStoreImpl.getById()] Loading the account by id [subscriberId=42,539,077, accountId=42,539,078]
[2015-06-30 09:53:40,112][FINEST][277][                AccountStoreImpl.loadDescriptors()] Loading descriptors from database [subscriberId=42,539,077, actionId=-2016002271]
[2015-06-30 09:53:40,113][FINEST][277][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=277]
[2015-06-30 09:53:40,115][FINEST][277][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=277]
[2015-06-30 09:53:40,116][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.026]
[2015-06-30 09:53:40,116][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:40,116][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.693]
[2015-06-30 09:53:40,116][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:53:40,117][ FINER][277][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:53:40,117][FINEST][277][            ReservationStoreImpl.getReservations()] Loading reservations from cache [subscriberId=42,539,077]
[2015-06-30 09:53:40,118][FINEST][277][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=277]
[2015-06-30 09:53:40,118][FINEST][277][                            AccountDaoImpl.flush()] Flushing account [id=42,539,078, balance=9,980,000]
[2015-06-30 09:53:40,120][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=flush execTime=1.999]
[2015-06-30 09:53:40,120][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Flush]
[2015-06-30 09:53:40,120][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.484]
[2015-06-30 09:53:40,121][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:40,123][FINEST][277][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=277]
[2015-06-30 09:53:40,123][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=5.461]
[2015-06-30 09:53:40,123][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:53:40,123][ FINER][277][                    ReservationStoreImpl.discard()] Discarding reservation [reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065]
[2015-06-30 09:53:40,124][FINEST][277][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=277]
[2015-06-30 09:53:40,127][FINEST][277][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=277]
[2015-06-30 09:53:40,127][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=3.521]
[2015-06-30 09:53:40,128][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:53:40,128][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=delete execTime=4.257]
[2015-06-30 09:53:40,128][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=DeleteReservation]
[2015-06-30 09:53:40,128][FINEST][277][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=-2016002271]
[2015-06-30 09:53:40,128][  FINE][ 48][                  AccountChangeHook.eventOccured()] Received event: AccountChangeEvent [type=3, subscriberId=42539077, timestamp=1435658020128, transactionId=1fc223e9-8677-4681-9b1b-8b24c0abf5de]
[2015-06-30 09:53:40,129][FINEST][277][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:53:40,129][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.datacontrol.impl.DataControlTimerListener
[2015-06-30 09:53:40,129][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.emergencyloan.service.impl.EmergencyLoanRepaymentAccountListener
[2015-06-30 09:53:40,129][  FINE][ 48][EmergencyLoanRepaymentAccountListener.accountChanged()] Received accountChanged event for account id 42,539,078
[2015-06-30 09:53:40,129][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.integration.diameter.impl.listeners.DiameterReauthAccountListener
[2015-06-30 09:53:40,130][FINEST][277][                       SessionTicketImpl.newPart()] added part, parts: [[TicketPartImpl duration=0 segments=null data=0]]
[2015-06-30 09:53:40,130][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.accountlimit.AccountChangeLimitListener
[2015-06-30 09:53:40,130][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Checking account limit [subscriberId=42539077, remainingBalance=9980000]
[2015-06-30 09:53:40,130][FINEST][277][                   SessionTicketImpl.finalCommit()] About to write final tickets, segments are: [(SessionSegment [duration=0, feature=15, charges=null, count=1, transferredData=0, ratingGroup=-2147483648])]
[2015-06-30 09:53:40,130][FINEST][ 48][       AccountChangeLimitListener.accountChanged()] Account limit not set for subscriber [subscriberId=42539077]
[2015-06-30 09:53:40,130][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountExpiryNotificationListener
[2015-06-30 09:53:40,131][  INFO][ 48][AccountExpiryNotificationListener.isMainTopupOrChangedExpiry()] Balance or expiry changed evaluation result [isTopup=false, changedExpiry=false]
[2015-06-30 09:53:40,131][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.plugins.notifications.accounts.AccountBalanceNotificationListener
[2015-06-30 09:53:40,131][FINEST][ 48][AccountBalanceNotificationListener.accountChanged()] Checking account notifications [subscriberId=42539077]
[2015-06-30 09:53:40,131][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_20_percent, currencyId=101,004]
[2015-06-30 09:53:40,131][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_minutes_used, currencyId=101,004]
[2015-06-30 09:53:40,131][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_20_percent, currencyId=101,003]
[2015-06-30 09:53:40,132][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_au_texts_used, currencyId=101,003]
[2015-06-30 09:53:40,132][FINEST][ 48][                  AccountQuotaEvaluator.evaluate()] Notification conditions not met [subscriberId=42,539,077, notification=low_credit_05]
[2015-06-30 09:53:40,132][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_used, currencyGroup=DATA]
[2015-06-30 09:53:40,132][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_20_percent, currencyId=101,000]
[2015-06-30 09:53:40,132][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=rollover_data_quota_20mb, currencyId=101,006]
[2015-06-30 09:53:40,133][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=data_quota_20mb, currencyId=4]
[2015-06-30 09:53:40,133][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_used, currencyId=6]
[2015-06-30 09:53:40,133][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_minutes_20_percent, currencyId=6]
[2015-06-30 09:53:40,133][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_20_percent, currencyId=2]
[2015-06-30 09:53:40,133][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_minutes_used, currencyId=2]
[2015-06-30 09:53:40,134][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_used, currencyId=3]
[2015-06-30 09:53:40,134][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=skinny_texts_used, currencyId=101,000]
[2015-06-30 09:53:40,134][FINEST][ 48][                   AccountQuotaEvaluator.applies()] Notification not applicable for the currency [notification=nz_texts_20_percent, currencyId=3]
[2015-06-30 09:53:40,134][FINEST][ 48][                  AccountChangeHook.eventOccured()] Calling listener for account change: com.inewcs.crce.tariffs.service.TariffAccountListener
[2015-06-30 09:53:40,135][ FINER][366][                          TicketSenderImpl$1.run()] Sending ticket to inew-cs.crce.cdr: 5.3|101|true|1|CRCE|CDR|crce01.tb13|2015-06-30T09:53:40.129+0000|2015-06-30T09:53:36.000+0000|5065500000|1|1|42539077|642041010000|PREPAID|ACTIVE||1|NONE|OK||1.2|FinalCommit|BasicSession|1|530052041010000|642041010000|false|642041010000|(network) bumblebee|Local (on-net)|Originating||||Voice|false|64278|(network) TNZ #8|2015-06-30T09:53:38.000+0000|0|1000|60000|0|0|0001ABFF0E|false|101001|15730641|101001|20000|20000|NZD|9980000|PREPAID|OK||
[2015-06-30 09:53:40,138][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=deleteContext execTime=1.193]
[2015-06-30 09:53:40,138][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Delete]
[2015-06-30 09:53:40,141][FINEST][277][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=204.946]
[2015-06-30 09:53:40,141][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-06-30 09:53:40,142][FINEST][277][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=CommitFinal]
[2015-06-30 09:53:40,142][  INFO][277][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5065500000, sessionBeginTimeStamp=Tue Jun 30 09:53:36 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R42539077T1435658317736@16922208707794444~-6282667652658867065, accounts=[[accountId=42539078, amount=20000, unitId=270]]] [206ms]
[2015-06-30 09:53:40,212][FINEST][385][     SubscriberPeerImpl.getSubscriberProfileById()] Reading subscriber profile by ID [subscriberId=42,539,077]
[2015-06-30 09:53:40,370][FINEST][385][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:53:40,370][FINEST][385][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:53:40,371][FINEST][385][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:53:40,372][FINEST][385][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]
[2015-06-30 09:53:42,397][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@c008da, com.tryge.negret.profiler.services.ProviderType@3f852098, com.tryge.negret.profiler.services.ProviderType@3d1efbbc]