[2015-06-30 09:56:42,398][FINEST][108][                   ProviderPeerImpl.getProviders()] return: [com.tryge.negret.profiler.services.ProviderType@cb3da7e, com.tryge.negret.profiler.services.ProviderType@73cd8cb5, com.tryge.negret.profiler.services.ProviderType@3bd0fa78]
[2015-06-30 09:56:43,643][FINEST][274][   SubscriberPeerImpl.getSubscriberProfileByImsi()] Reading subscriber profile by IMSI [imsi=530052041010000]
[2015-06-30 09:56:43,879][FINEST][274][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:43,880][FINEST][274][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:43,880][FINEST][274][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:43,881][FINEST][274][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]
[2015-06-30 09:56:43,908][  INFO][303][                     TraceInterceptorImpl.invoke()] reserve(SessionReservationRequest [header=[sessionId=5065800000, sessionBeginTimeStamp=Tue Jun 30 09:56:43 UTC 2015, chargingType=REGULAR], trafficType=MFC, imsi=530052041010000, subscriberId=42539077, suppressNumber=false, startTime=Tue Jun 30 09:56:43 UTC 2015, duration=0, location=64278, roaming=false, bearerType=Voice, referenceNumber=0001ABFF0E, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=56955691975, nadi=INTERNATIONAL], locationNumber=null, locationDetailedId=null])
[2015-06-30 09:56:44,061][FINEST][303][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:44,062][FINEST][303][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:44,062][FINEST][303][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:44,069][FINEST][303][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=create execTime=5.543]
[2015-06-30 09:56:44,070][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Create]
[2015-06-30 09:56:44,071][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=CreateSession]
[2015-06-30 09:56:44,074][FINEST][303][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=2.664]
[2015-06-30 09:56:44,075][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:56:44,075][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:56:44,076][FINEST][303][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:56:44,077][ FINER][303][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/mfc
[2015-06-30 09:56:44,077][FINEST][303][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658504077@16922395048967408~-8522271206019756417', subscriberId=42539077, expires=1435658504077, reservedAt=1435658204077, reservation=[]}]
[2015-06-30 09:56:44,077][FINEST][303][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,203,892, duration=60,000]
[2015-06-30 09:56:44,078][FINEST][303][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,263,892, duration=60,000]
[2015-06-30 09:56:44,078][ FINER][303][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000005
[2015-06-30 09:56:44,078][ FINER][303][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,117]
[2015-06-30 09:56:44,078][FINEST][303][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:56:44,079][ FINER][303][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-06-30 09:56:44,079][ FINER][303][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,117]
[2015-06-30 09:56:44,079][ FINER][303][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-06-30 09:56:44,079][FINEST][303][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=303]
[2015-06-30 09:56:44,080][FINEST][303][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=303]
[2015-06-30 09:56:44,080][FINEST][303][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.957]
[2015-06-30 09:56:44,080][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:56:44,081][FINEST][303][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=508607680]
[2015-06-30 09:56:44,085][FINEST][303][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.184]
[2015-06-30 09:56:44,086][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:56:44,087][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:56:44,089][FINEST][303][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=reserve execTime=180.724]
[2015-06-30 09:56:44,090][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Reserve]
[2015-06-30 09:56:44,090][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMFC]
[2015-06-30 09:56:44,091][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveInitial]
[2015-06-30 09:56:44,092][FINEST][303][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=ReserveMFCInitial]
[2015-06-30 09:56:44,093][  INFO][303][                     TraceInterceptorImpl.invoke()] reserve(...): SessionReservationResponse [sessionId=5065800000, responseCode=OK, reservationId=R42539077T1435658504077@16922395048967408~-8522271206019756417, lastSegment=false, grantedTime=60000, accounts=[]] [183ms]
[2015-06-30 09:56:45,304][  INFO][349][                     TraceInterceptorImpl.invoke()] update(SessionUpdateReservationRequest [header=[sessionId=5065800000, sessionBeginTimeStamp=Tue Jun 30 09:56:43 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658504077@16922395048967408~-8522271206019756417, trafficType=MFC, imsi=530052041010000, subscriberId=42539077, callingParty=Address [msisdn=642041010000, nadi=INTERNATIONAL], calledParty=Address [msisdn=56955691975, nadi=INTERNATIONAL], bearerType=Voice, startTime=Tue Jun 30 09:56:45 UTC 2015, duration=0, location=64278, roaming=false, referenceNumber=0001ABFF0E])
[2015-06-30 09:56:45,458][FINEST][349][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:45,458][FINEST][349][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:45,458][FINEST][349][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:45,464][FINEST][349][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=3.775]
[2015-06-30 09:56:45,465][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:56:45,465][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:56:45,466][FINEST][349][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:56:45,466][ FINER][349][                    RateplanPeerImpl.getRateplan()] Getting the rateplan for key: ptk.skinny/101001/mfc
[2015-06-30 09:56:45,466][FINEST][349][                     ReservationStoreImpl.create()] Creating a reservation [subscriberId=42,539,077, reservation=InternalReservationImpl{id='R42539077T1435658505466@16922396438492905~-8211199363382630824', subscriberId=42539077, expires=1435658505466, reservedAt=1435658205466, reservation=[]}]
[2015-06-30 09:56:45,467][FINEST][349][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,205,022, duration=60,000]
[2015-06-30 09:56:45,467][FINEST][349][                             SessionRater.<init>()] Initialized session rater [subscriberId=42,539,077, offset=1,435,658,265,022, duration=60,000]
[2015-06-30 09:56:45,468][ FINER][349][      BasicSessionFeatureFactoryImpl.newInstance()] Executing session feature: 1010010000005
[2015-06-30 09:56:45,468][ FINER][349][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,117]
[2015-06-30 09:56:45,468][FINEST][349][                    CompiledRatingFilter.rateMoc()] Beginning of session, adding setup rating
[2015-06-30 09:56:45,468][ FINER][349][                                SessionRater.add()] Try rating: setup=true, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-06-30 09:56:45,468][ FINER][349][                    CompiledRatingFilter.rateMoc()] Executing rating filter for session request [filterId=1,010,010,000,117]
[2015-06-30 09:56:45,468][ FINER][349][                                SessionRater.add()] Try rating: setup=false, begin=0, duration=0, price=0, perPeriod=60000, currency=NZD
[2015-06-30 09:56:45,469][FINEST][349][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=349]
[2015-06-30 09:56:45,469][FINEST][349][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=349]
[2015-06-30 09:56:45,470][FINEST][349][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=0.941]
[2015-06-30 09:56:45,470][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Write]
[2015-06-30 09:56:45,470][FINEST][349][                AccountStoreImpl.releaseAccounts()] Releasing the cached accounts for subscriber [subscriberId=42539077, actionId=1254680896]
[2015-06-30 09:56:45,475][FINEST][349][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=updateContext execTime=4.165]
[2015-06-30 09:56:45,476][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Update]
[2015-06-30 09:56:45,476][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=UpdateSession]
[2015-06-30 09:56:45,480][FINEST][349][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=update execTime=175.481]
[2015-06-30 09:56:45,480][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Update]
[2015-06-30 09:56:45,481][FINEST][349][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=UpdateMFC]
[2015-06-30 09:56:45,482][  INFO][349][                     TraceInterceptorImpl.invoke()] update(...): SessionReservationResponse [sessionId=5065800000, responseCode=OK, reservationId=R42539077T1435658505466@16922396438492905~-8211199363382630824, lastSegment=false, grantedTime=60000, accounts=[]] [176ms]
[2015-06-30 09:56:46,313][  INFO][350][                     TraceInterceptorImpl.invoke()] commit(SessionCommitRequest [header=[sessionId=5065800000, sessionBeginTimeStamp=Tue Jun 30 09:56:43 UTC 2015, chargingType=REGULAR], reservationId=R42539077T1435658505466@16922396438492905~-8211199363382630824, finalCommit=true, usedTime=1000])
[2015-06-30 09:56:46,317][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=selectContext execTime=3.645]
[2015-06-30 09:56:46,318][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Select]
[2015-06-30 09:56:46,318][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=SelectSession]
[2015-06-30 09:56:46,319][  FINE][350][                SessionCommitClosure.withContext()] try to commit reservation: R42539077T1435658505466@16922396438492905~-8211199363382630824
[2015-06-30 09:56:46,403][FINEST][350][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:46,403][FINEST][350][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:46,403][FINEST][350][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:46,405][FINEST][350][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=350]
[2015-06-30 09:56:46,407][FINEST][350][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=350]
[2015-06-30 09:56:46,407][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.726]
[2015-06-30 09:56:46,408][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:56:46,408][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.AccountDaoImpl method=loadDescriptors execTime=3.422]
[2015-06-30 09:56:46,408][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=Lookup]
[2015-06-30 09:56:46,408][ FINER][350][                     AbstractAccountManager.load()] Loading acount from descriptor [accountId=42,539,078, subscriberId=42,539,077]
[2015-06-30 09:56:46,408][FINEST][350][            ReservationStoreImpl.getReservations()] Loading all reservations from database [subscriberId=42,539,077]
[2015-06-30 09:56:46,409][FINEST][350][                  TransactionalQueryExecutor.run()] Opening a new database transaction [thread=350]
[2015-06-30 09:56:46,411][FINEST][350][                  TransactionalQueryExecutor.run()] Committed the transaction [thread=350]
[2015-06-30 09:56:46,411][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.tryge.negret.db.impl.TransactionalQueryExecutor method=execute execTime=2.25]
[2015-06-30 09:56:46,411][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=CoreDB name=Read]
[2015-06-30 09:56:46,411][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.accounting.persistence.impl.ReservationDaoImpl method=getBySubscriber execTime=2.913]
[2015-06-30 09:56:46,412][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Accounting name=SelectReservation]
[2015-06-30 09:56:46,412][FINEST][350][                SessionCommitClosure.withContext()] Session is free, do not charge reservation, charge 0 on main account [reservationId=R42539077T1435658505466@16922396438492905~-8211199363382630824 subscriberId=42,539,077 accountId=42,539,078 currency=NZD]
[2015-06-30 09:56:46,412][FINEST][350][                 SessionContext.getCommitActions()] Reading commit actions: []
[2015-06-30 09:56:46,413][FINEST][350][                       SessionTicketImpl.newPart()] added part, parts: [[TicketPartImpl duration=0 segments=null data=0]]
[2015-06-30 09:56:46,413][FINEST][350][                   SessionTicketImpl.finalCommit()] About to write final tickets, segments are: [(SessionSegment [duration=0, feature=15, charges=null, count=1, transferredData=0, ratingGroup=0])]
[2015-06-30 09:56:46,417][ FINER][268][                          TicketSenderImpl$1.run()] Sending ticket to inew-cs.crce.cdr: 5.3|101|true|1|CRCE|CDR|crce01.tb13|2015-06-30T09:56:46.412+0000|2015-06-30T09:56:43.000+0000|5065800000|1|1|42539077|642041010000|PREPAID|ACTIVE||1|NONE|OK||1.2|FinalCommit|BasicSession|1|530052041010000|642041010000|false|56955691975|Chile - 56|Zone D|Forwarding||0||Voice|false|64278|(network) TNZ #8|2015-06-30T09:56:45.000+0000|0|1000|60000|0|0|0001ABFF0E|false|101001|15730641|101001|0|0|NZD|10000000|PREPAID|OK||
[2015-06-30 09:56:46,418][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.contextsharing.db.impl.DatabaseContextSharing method=deleteContext execTime=0.965]
[2015-06-30 09:56:46,418][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=ContextDB name=Delete]
[2015-06-30 09:56:46,421][FINEST][350][            MonitorListenerImpl.methodInvocation()] Monitoring event received [class=com.inewcs.crce.apps.session.impl.SessionApplicationImpl method=commit execTime=107.813]
[2015-06-30 09:56:46,421][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=Commit]
[2015-06-30 09:56:46,422][FINEST][350][            MonitorListenerImpl.handleInvocation()] Condition OK, process monitoring event [group=Session name=CommitFinal]
[2015-06-30 09:56:46,422][  INFO][350][                     TraceInterceptorImpl.invoke()] commit(...): SessionCommitResponse [header=[sessionId=5065800000, sessionBeginTimeStamp=Tue Jun 30 09:56:43 UTC 2015, chargingType=REGULAR], responseCode=OK, reservationId=R42539077T1435658505466@16922396438492905~-8211199363382630824, accounts=[[accountId=42539078, amount=0, unitId=270]]] [109ms]
[2015-06-30 09:56:46,491][FINEST][389][     SubscriberPeerImpl.getSubscriberProfileById()] Reading subscriber profile by ID [subscriberId=42,539,077]
[2015-06-30 09:56:46,593][FINEST][389][                         LifeCycleResolver.touch()] Checking subsriber state transitions [subscriberId=42,539,077]
[2015-06-30 09:56:46,594][FINEST][389][                     CountersFacetResolver.touch()] Checking if there are counters to delete [subscriberId=42,539,077, msisdn=642041010000]
[2015-06-30 09:56:46,594][FINEST][389][                  TariffSubscriberListener.touch()] Checking subscribers tariff state [subscriberId=42,539,077]
[2015-06-30 09:56:46,595][FINEST][389][                SubscriberPeerImpl.getSubscriber()] Subscriber lookup returned [resultCode=OK subscriberId=42,539,077 msisdn=642041010000 imsi=530052041010000]